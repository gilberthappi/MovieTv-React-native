{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport React, { useCallback, useState } from 'react';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { XMarkIcon } from 'react-native-heroicons/outline';\nimport { useNavigation } from '@react-navigation/native';\nimport { fallbackMoviePoster, image185, searchMovies } from \"../api/moviedb\";\nimport { debounce } from 'lodash';\nimport Loading from \"../components/loading\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nexport default function SearchScreen() {\n  var navigation = useNavigation();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    results = _useState4[0],\n    setResults = _useState4[1];\n  var handleSearch = function handleSearch(search) {\n    if (search && search.length > 2) {\n      setLoading(true);\n      searchMovies({\n        query: search,\n        include_adult: false,\n        language: 'en-US',\n        page: '1'\n      }).then(function (data) {\n        console.log('got search results');\n        setLoading(false);\n        if (data && data.results) setResults(data.results);\n      });\n    } else {\n      setLoading(false);\n      setResults([]);\n    }\n  };\n  var handleTextDebounce = useCallback(debounce(handleSearch, 400), []);\n  return _jsxs(_StyledComponent, {\n    className: \"bg-neutral-800 flex-1\",\n    component: SafeAreaView,\n    children: [_jsxs(_StyledComponent, {\n      className: \"mx-4 mb-3 flex-row justify-between items-center border border-neutral-500 rounded-full\",\n      component: View,\n      children: [_jsx(_StyledComponent, {\n        onChangeText: handleTextDebounce,\n        placeholder: \"Search Movie\",\n        placeholderTextColor: 'lightgray',\n        className: \"pb-1 pl-6 flex-1 text-base font-semibold text-white tracking-wider\",\n        component: TextInput\n      }), _jsx(_StyledComponent, {\n        onPress: function onPress() {\n          return navigation.navigate('Home');\n        },\n        className: \"rounded-full p-3 m-1 bg-neutral-500\",\n        component: TouchableOpacity,\n        children: _jsx(XMarkIcon, {\n          size: \"25\",\n          color: \"white\"\n        })\n      })]\n    }), loading ? _jsx(Loading, {}) : results.length > 0 ? _jsxs(_StyledComponent, {\n      showsVerticalScrollIndicator: false,\n      contentContainerStyle: {\n        paddingHorizontal: 15\n      },\n      className: \"space-y-3\",\n      component: ScrollView,\n      children: [_jsxs(_StyledComponent, {\n        className: \"text-white font-semibold ml-1\",\n        component: Text,\n        children: [\"Results (\", results.length, \")\"]\n      }), _jsx(_StyledComponent, {\n        className: \"flex-row justify-between flex-wrap\",\n        component: View,\n        children: results.map(function (item, index) {\n          return _jsx(TouchableWithoutFeedback, {\n            onPress: function onPress() {\n              return navigation.push('Movie', item);\n            },\n            children: _jsxs(_StyledComponent, {\n              className: \"space-y-2 mb-4\",\n              component: View,\n              children: [_jsx(_StyledComponent, {\n                source: {\n                  uri: image185(item.poster_path) || fallbackMoviePoster\n                },\n                className: \"rounded-3xl\",\n                style: {\n                  width: width * 0.44,\n                  height: height * 0.3\n                },\n                component: Image\n              }), _jsx(_StyledComponent, {\n                className: \"text-gray-300 ml-1\",\n                component: Text,\n                children: item.title.length > 22 ? item.title.slice(0, 22) + '...' : item.title\n              })]\n            })\n          }, index);\n        })\n      })]\n    }) : _jsx(_StyledComponent, {\n      className: \"flex-row justify-center\",\n      component: View,\n      children: _jsx(_StyledComponent, {\n        source: require(\"../assets/images/movieTime.png\"),\n        className: \"h-96 w-96\",\n        component: Image\n      })\n    })]\n  });\n}\n_NativeWindStyleSheet.create({\n  styles: {\n    \"m-1\": {\n      \"marginTop\": 4,\n      \"marginRight\": 4,\n      \"marginBottom\": 4,\n      \"marginLeft\": 4\n    },\n    \"mx-4\": {\n      \"marginLeft\": 16,\n      \"marginRight\": 16\n    },\n    \"mb-3\": {\n      \"marginBottom\": 12\n    },\n    \"mb-4\": {\n      \"marginBottom\": 16\n    },\n    \"ml-1\": {\n      \"marginLeft\": 4\n    },\n    \"h-96\": {\n      \"height\": 384\n    },\n    \"w-96\": {\n      \"width\": 384\n    },\n    \"flex-1\": {\n      \"flexGrow\": 1,\n      \"flexShrink\": 1,\n      \"flexBasis\": \"0%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"flex-wrap\": {\n      \"flexWrap\": \"wrap\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"justify-between\": {\n      \"justifyContent\": \"space-between\"\n    },\n    \"rounded-3xl\": {\n      \"borderTopLeftRadius\": 24,\n      \"borderTopRightRadius\": 24,\n      \"borderBottomRightRadius\": 24,\n      \"borderBottomLeftRadius\": 24\n    },\n    \"rounded-full\": {\n      \"borderTopLeftRadius\": 9999,\n      \"borderTopRightRadius\": 9999,\n      \"borderBottomRightRadius\": 9999,\n      \"borderBottomLeftRadius\": 9999\n    },\n    \"border\": {\n      \"borderTopWidth\": 1,\n      \"borderRightWidth\": 1,\n      \"borderBottomWidth\": 1,\n      \"borderLeftWidth\": 1\n    },\n    \"border-neutral-500\": {\n      \"borderTopColor\": \"#737373\",\n      \"borderRightColor\": \"#737373\",\n      \"borderBottomColor\": \"#737373\",\n      \"borderLeftColor\": \"#737373\"\n    },\n    \"bg-neutral-500\": {\n      \"backgroundColor\": \"#737373\"\n    },\n    \"bg-neutral-800\": {\n      \"backgroundColor\": \"#262626\"\n    },\n    \"p-3\": {\n      \"paddingTop\": 12,\n      \"paddingRight\": 12,\n      \"paddingBottom\": 12,\n      \"paddingLeft\": 12\n    },\n    \"pb-1\": {\n      \"paddingBottom\": 4\n    },\n    \"pl-6\": {\n      \"paddingLeft\": 24\n    },\n    \"font-semibold\": {\n      \"fontWeight\": \"600\"\n    },\n    \"tracking-wider\": {\n      \"letterSpacing\": 0.5\n    },\n    \"text-gray-300\": {\n      \"color\": \"#d1d5db\"\n    },\n    \"text-white\": {\n      \"color\": \"#fff\"\n    },\n    \"space-y-2.children@0\": {\n      \"marginTop\": 8\n    },\n    \"space-y-3.children@0\": {\n      \"marginTop\": 12\n    },\n    \"text-base\": {\n      \"fontSize\": 16,\n      \"lineHeight\": 24\n    }\n  },\n  atRules: {\n    \"space-y-2.children\": [[[\"selector\", \"(> *:not(:first-child))\"]]],\n    \"space-y-3.children\": [[[\"selector\", \"(> *:not(:first-child))\"]]]\n  },\n  childClasses: {\n    \"space-y-2\": [\"space-y-2.children\"],\n    \"space-y-3\": [\"space-y-3.children\"]\n  }\n});","map":{"version":3,"names":["React","useCallback","useState","SafeAreaView","XMarkIcon","useNavigation","fallbackMoviePoster","image185","searchMovies","debounce","Loading","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","Dimensions","get","width","height","SearchScreen","navigation","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","results","setResults","handleSearch","search","length","query","include_adult","language","page","then","data","console","log","handleTextDebounce","_StyledComponent","className","component","children","View","onChangeText","placeholder","placeholderTextColor","TextInput","onPress","navigate","TouchableOpacity","size","color","showsVerticalScrollIndicator","contentContainerStyle","paddingHorizontal","ScrollView","Text","map","item","index","TouchableWithoutFeedback","push","source","uri","poster_path","style","Image","title","slice","require","_NativeWindStyleSheet","create","styles","atRules","childClasses"],"sources":["C:/Users/HP/Desktop/Project/UR/Year3/reactMobile/screens/SearchScreen.js"],"sourcesContent":["import { View, Text, TextInput, TouchableOpacity, Image, ScrollView, TouchableWithoutFeedback, Dimensions } from 'react-native'\nimport React, { useCallback, useState } from 'react'\nimport { SafeAreaView } from 'react-native-safe-area-context'\nimport { XMarkIcon } from 'react-native-heroicons/outline'\nimport { useNavigation } from '@react-navigation/native'\nimport { fallbackMoviePoster, image185, searchMovies } from '../api/moviedb'\nimport { debounce } from 'lodash'\nimport Loading from '../components/loading'\n\nconst {width, height} =  Dimensions.get('window');\n\n\nexport default function SearchScreen() {\n    const navigation = useNavigation();\n    const [loading, setLoading] = useState(false);\n    const [results, setResults] = useState([])\n\n    const handleSearch = search=>{\n        if(search && search.length>2){\n            setLoading(true);\n            searchMovies({\n                query: search,\n                include_adult: false,\n                language: 'en-US',\n                page: '1'\n            }).then(data=>{\n                console.log('got search results');\n                setLoading(false);\n                if(data && data.results) setResults(data.results);\n            })\n        }else{\n            setLoading(false);\n            setResults([])\n        }\n      }\n    \n    const handleTextDebounce = useCallback(debounce(handleSearch, 400), []);    \n\n  return (\n    <SafeAreaView className=\"bg-neutral-800 flex-1\">\n\n        {/* search input */}\n        <View \n            className=\"mx-4 mb-3 flex-row justify-between items-center border border-neutral-500 rounded-full\" >\n            <TextInput \n                onChangeText={handleTextDebounce} \n                placeholder=\"Search Movie\" \n                placeholderTextColor={'lightgray'} \n                className=\"pb-1 pl-6 flex-1 text-base font-semibold text-white tracking-wider\" \n            />\n            <TouchableOpacity \n                onPress={()=> navigation.navigate('Home')}\n                className=\"rounded-full p-3 m-1 bg-neutral-500\" \n            >\n                <XMarkIcon size=\"25\" color=\"white\" />\n                \n            </TouchableOpacity>\n        </View>\n\n        {/* search results */}\n        {\n            loading? (\n                <Loading />\n            ): \n            results.length>0? (\n                <ScrollView \n                    showsVerticalScrollIndicator={false} \n                    contentContainerStyle={{paddingHorizontal:15}}\n                    className=\"space-y-3\"\n                >\n                    <Text className=\"text-white font-semibold ml-1\">Results ({results.length})</Text>\n                    <View className=\"flex-row justify-between flex-wrap\">\n                        {\n                            results.map((item, index)=>{\n                                return (\n                                    <TouchableWithoutFeedback \n                                        key={index} \n                                        onPress={()=> navigation.push('Movie', item)}>\n                                        <View className=\"space-y-2 mb-4\">\n                                            <Image \n                                                source={{uri: image185(item.poster_path) || fallbackMoviePoster}} \n                                                // source={require('../assets/images/moviePoster2.png')}\n                                                className=\"rounded-3xl\" \n                                                style={{ width: width*0.44, height: height*0.3}} \n                                            />\n                                            <Text className=\"text-gray-300 ml-1\">\n                                                {\n                                                    item.title.length>22? item.title.slice(0,22)+'...': item.title\n                                                }\n                                            </Text>\n                                        </View>\n                                    </TouchableWithoutFeedback>\n                                )\n                            })\n                        }\n                    </View>\n                    \n                </ScrollView>\n            ):(\n                <View className=\"flex-row justify-center\">\n                    <Image \n                        source={require('../assets/images/movieTime.png')} \n                        className=\"h-96 w-96\"\n                    />\n                </View>\n            )\n        }\n    </SafeAreaView>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}