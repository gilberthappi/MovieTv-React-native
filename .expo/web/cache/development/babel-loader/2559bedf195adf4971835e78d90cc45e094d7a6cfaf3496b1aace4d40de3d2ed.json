{"ast":null,"code":"import _defineProperty2 from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"children\", \"index\", \"style\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty2(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport View from \"react-native-web/dist/exports/View\";\nimport shallowCompare from 'react-addons-shallow-compare';\nimport { defaultScrollInterpolator, stackScrollInterpolator, tinderScrollInterpolator, defaultAnimatedStyles, shiftAnimatedStyles, stackAnimatedStyles, tinderAnimatedStyles } from \"../utils/animations\";\nvar IS_ANDROID = Platform.OS === 'android';\nvar IS_RTL = I18nManager.isRTL;\nexport var Carousel = function (_React$Component) {\n  _inherits(Carousel, _React$Component);\n  var _super = _createSuper(Carousel);\n  function Carousel(props) {\n    var _this;\n    _classCallCheck(this, Carousel);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"_activeItem\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollActiveItem\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_previousFirstItem\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_previousItemsLength\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_mounted\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_positions\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_currentScrollOffset\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_scrollEnabled\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_initTimeout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_apparitionTimeout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_hackSlideAnimationTimeout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_enableAutoplayTimeout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_autoplayTimeout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_snapNoMomentumTimeout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_androidRepositioningTimeout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_autoplayInterval\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_scrollPos\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onScrollHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_carouselRef\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_autoplaying\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_autoplay\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onLayoutInitDone\", void 0);\n    _this.state = {\n      hideCarousel: !!props.apparitionDelay,\n      interpolators: []\n    };\n    var initialActiveItem = _this._getFirstItem(props.firstItem);\n    _this._activeItem = initialActiveItem;\n    _this._onScrollActiveItem = initialActiveItem;\n    _this._previousFirstItem = initialActiveItem;\n    _this._previousItemsLength = initialActiveItem;\n    _this._mounted = false;\n    _this._positions = [];\n    _this._currentScrollOffset = 0;\n    _this._scrollEnabled = props.scrollEnabled !== false;\n    _this._getCellRendererComponent = _this._getCellRendererComponent.bind(_assertThisInitialized(_this));\n    _this._getItemLayout = _this._getItemLayout.bind(_assertThisInitialized(_this));\n    _this._getKeyExtractor = _this._getKeyExtractor.bind(_assertThisInitialized(_this));\n    _this._onLayout = _this._onLayout.bind(_assertThisInitialized(_this));\n    _this._onScroll = _this._onScroll.bind(_assertThisInitialized(_this));\n    _this._onMomentumScrollEnd = _this._onMomentumScrollEnd.bind(_assertThisInitialized(_this));\n    _this._onTouchStart = _this._onTouchStart.bind(_assertThisInitialized(_this));\n    _this._onTouchEnd = _this._onTouchEnd.bind(_assertThisInitialized(_this));\n    _this._renderItem = _this._renderItem.bind(_assertThisInitialized(_this));\n    _this._setScrollHandler(props);\n    _this._displayWarnings(props);\n    return _this;\n  }\n  _createClass(Carousel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var _this$props = this.props,\n        apparitionDelay = _this$props.apparitionDelay,\n        autoplay = _this$props.autoplay,\n        firstItem = _this$props.firstItem;\n      this._mounted = true;\n      this._initPositionsAndInterpolators();\n      this._initTimeout = setTimeout(function () {\n        if (!_this2._mounted) {\n          return;\n        }\n        var apparitionCallback = function apparitionCallback() {\n          if (apparitionDelay) {\n            _this2.setState({\n              hideCarousel: false\n            });\n          }\n          if (autoplay) {\n            _this2.startAutoplay();\n          }\n        };\n        if (_this2._needsScrollView()) {\n          var _firstItem = _this2._getFirstItem(firstItem);\n          _this2._snapToItem(_firstItem, false, false, true);\n        }\n        if (apparitionDelay) {\n          _this2._apparitionTimeout = setTimeout(function () {\n            apparitionCallback();\n          }, apparitionDelay);\n        } else {\n          apparitionCallback();\n        }\n      }, 1);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (this.props.shouldOptimizeUpdates === false) {\n        return true;\n      } else {\n        return shallowCompare(this, nextProps, nextState);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var interpolators = this.state.interpolators;\n      var _this$props2 = this.props,\n        firstItem = _this$props2.firstItem,\n        scrollEnabled = _this$props2.scrollEnabled;\n      var itemsLength = this._getCustomDataLength(this.props);\n      if (!itemsLength) {\n        return;\n      }\n      var nextFirstItem = this._getFirstItem(firstItem, this.props);\n      var nextActiveItem = typeof this._activeItem !== 'undefined' ? this._activeItem : nextFirstItem;\n      var hasNewSize = this.props.vertical !== prevProps.vertical || this.props.vertical && prevProps.vertical && (prevProps.itemHeight !== this.props.itemHeight || prevProps.sliderHeight !== this.props.sliderHeight) || !this.props.vertical && !prevProps.vertical && (prevProps.itemWidth !== this.props.itemWidth || prevProps.sliderWidth !== this.props.sliderWidth);\n      if (nextActiveItem > itemsLength - 1) {\n        nextActiveItem = itemsLength - 1;\n      }\n      if (scrollEnabled !== prevProps.scrollEnabled) {\n        this._setScrollEnabled(scrollEnabled);\n      }\n      if (interpolators.length !== itemsLength || hasNewSize) {\n        this._activeItem = nextActiveItem;\n        this._previousItemsLength = itemsLength;\n        this._initPositionsAndInterpolators(this.props);\n        if (this._previousItemsLength > itemsLength) {\n          this._hackActiveSlideAnimation(nextActiveItem);\n        }\n        if (hasNewSize) {\n          this._snapToItem(nextActiveItem, false, false, true);\n        }\n      } else if (nextFirstItem !== this._previousFirstItem && nextFirstItem !== this._activeItem) {\n        this._activeItem = nextFirstItem;\n        this._previousFirstItem = nextFirstItem;\n        this._snapToItem(nextFirstItem, false, true, true);\n      }\n      if (this.props.onScroll !== prevProps.onScroll) {\n        this._setScrollHandler(this.props);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._mounted = false;\n      this.stopAutoplay();\n      clearTimeout(this._initTimeout);\n      clearTimeout(this._apparitionTimeout);\n      clearTimeout(this._hackSlideAnimationTimeout);\n      clearTimeout(this._enableAutoplayTimeout);\n      clearTimeout(this._autoplayTimeout);\n      clearTimeout(this._snapNoMomentumTimeout);\n      clearTimeout(this._androidRepositioningTimeout);\n    }\n  }, {\n    key: \"realIndex\",\n    get: function get() {\n      return this._activeItem;\n    }\n  }, {\n    key: \"currentIndex\",\n    get: function get() {\n      return this._getDataIndex(this._activeItem);\n    }\n  }, {\n    key: \"currentScrollPosition\",\n    get: function get() {\n      return this._currentScrollOffset;\n    }\n  }, {\n    key: \"_setScrollHandler\",\n    value: function _setScrollHandler(props) {\n      var scrollEventConfig = {\n        listener: this._onScroll,\n        useNativeDriver: true\n      };\n      this._scrollPos = new Animated.Value(0);\n      var argMapping = props.vertical ? [{\n        nativeEvent: {\n          contentOffset: {\n            y: this._scrollPos\n          }\n        }\n      }] : [{\n        nativeEvent: {\n          contentOffset: {\n            x: this._scrollPos\n          }\n        }\n      }];\n      if (props.onScroll && Array.isArray(props.onScroll._argMapping)) {\n        argMapping.pop();\n        var _props$onScroll$_argM = _slicedToArray(props.onScroll._argMapping, 1),\n          argMap = _props$onScroll$_argM[0];\n        if (argMap && argMap.nativeEvent && argMap.nativeEvent.contentOffset) {\n          this._scrollPos = argMap.nativeEvent.contentOffset.x || argMap.nativeEvent.contentOffset.y || this._scrollPos;\n        }\n        argMapping.push.apply(argMapping, _toConsumableArray(props.onScroll._argMapping));\n      }\n      this._onScrollHandler = Animated.event(argMapping, scrollEventConfig);\n    }\n  }, {\n    key: \"_displayWarnings\",\n    value: function _displayWarnings() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var pluginName = 'react-native-snap-carousel';\n      var removedProps = ['activeAnimationType', 'activeAnimationOptions', 'enableMomentum', 'lockScrollTimeoutDuration', 'lockScrollWhileSnapping', 'onBeforeSnapToItem', 'swipeThreshold'];\n      if (!props.vertical && (!props.sliderWidth || !props.itemWidth)) {\n        console.error(\"\".concat(pluginName, \": You need to specify both 'sliderWidth' and 'itemWidth' for horizontal carousels\"));\n      }\n      if (props.vertical && (!props.sliderHeight || !props.itemHeight)) {\n        console.error(\"\".concat(pluginName, \": You need to specify both 'sliderHeight' and 'itemHeight' for vertical carousels\"));\n      }\n      removedProps.forEach(function (removedProp) {\n        if (removedProp in props) {\n          console.warn(\"\".concat(pluginName, \": Prop \").concat(removedProp, \" has been removed in version 4 of the plugin\"));\n        }\n      });\n    }\n  }, {\n    key: \"_needsScrollView\",\n    value: function _needsScrollView() {\n      var useScrollView = this.props.useScrollView;\n      return IS_ANDROID ? useScrollView || !Animated.FlatList || this._shouldUseStackLayout() || this._shouldUseTinderLayout() : useScrollView || !Animated.FlatList;\n    }\n  }, {\n    key: \"_needsRTLAdaptations\",\n    value: function _needsRTLAdaptations() {\n      var vertical = this.props.vertical;\n      return IS_RTL && IS_ANDROID && !vertical;\n    }\n  }, {\n    key: \"_enableLoop\",\n    value: function _enableLoop() {\n      var _this$props3 = this.props,\n        data = _this$props3.data,\n        enableSnap = _this$props3.enableSnap,\n        loop = _this$props3.loop;\n      return enableSnap && loop && data && data.length && data.length > 1;\n    }\n  }, {\n    key: \"_shouldAnimateSlides\",\n    value: function _shouldAnimateSlides() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var inactiveSlideOpacity = props.inactiveSlideOpacity,\n        inactiveSlideScale = props.inactiveSlideScale,\n        scrollInterpolator = props.scrollInterpolator,\n        slideInterpolatedStyle = props.slideInterpolatedStyle;\n      return inactiveSlideOpacity < 1 || inactiveSlideScale < 1 || !!scrollInterpolator || !!slideInterpolatedStyle || this._shouldUseShiftLayout() || this._shouldUseStackLayout() || this._shouldUseTinderLayout();\n    }\n  }, {\n    key: \"_shouldUseShiftLayout\",\n    value: function _shouldUseShiftLayout() {\n      var _this$props4 = this.props,\n        inactiveSlideShift = _this$props4.inactiveSlideShift,\n        layout = _this$props4.layout;\n      return layout === 'default' && inactiveSlideShift !== 0;\n    }\n  }, {\n    key: \"_shouldUseStackLayout\",\n    value: function _shouldUseStackLayout() {\n      return this.props.layout === 'stack';\n    }\n  }, {\n    key: \"_shouldUseTinderLayout\",\n    value: function _shouldUseTinderLayout() {\n      return this.props.layout === 'tinder';\n    }\n  }, {\n    key: \"_shouldRepositionScroll\",\n    value: function _shouldRepositionScroll(index) {\n      var _this$props5 = this.props,\n        data = _this$props5.data,\n        enableSnap = _this$props5.enableSnap,\n        loopClonesPerSide = _this$props5.loopClonesPerSide;\n      var dataLength = data && data.length;\n      if (!enableSnap || !dataLength || !this._enableLoop() || index >= loopClonesPerSide && index < dataLength + loopClonesPerSide) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_roundNumber\",\n    value: function _roundNumber(num) {\n      var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var rounder = Math.pow(10, decimals);\n      return Math.round((num + Number.EPSILON) * rounder) / rounder;\n    }\n  }, {\n    key: \"_isMultiple\",\n    value: function _isMultiple(x, y) {\n      return Math.round(Math.round(x / y) / (1 / y)) === Math.round(x);\n    }\n  }, {\n    key: \"_getCustomData\",\n    value: function _getCustomData() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var data = props.data,\n        loopClonesPerSide = props.loopClonesPerSide;\n      var dataLength = data && data.length;\n      if (!dataLength) {\n        return [];\n      }\n      if (!this._enableLoop()) {\n        return data;\n      }\n      var previousItems = [];\n      var nextItems = [];\n      if (loopClonesPerSide > dataLength) {\n        var _previousItems2, _nextItems2;\n        var dataMultiplier = Math.floor(loopClonesPerSide / dataLength);\n        var remainder = loopClonesPerSide % dataLength;\n        for (var i = 0; i < dataMultiplier; i++) {\n          var _previousItems, _nextItems;\n          (_previousItems = previousItems).push.apply(_previousItems, _toConsumableArray(data));\n          (_nextItems = nextItems).push.apply(_nextItems, _toConsumableArray(data));\n        }\n        (_previousItems2 = previousItems).unshift.apply(_previousItems2, _toConsumableArray(data.slice(-remainder)));\n        (_nextItems2 = nextItems).push.apply(_nextItems2, _toConsumableArray(data.slice(0, remainder)));\n      } else {\n        previousItems = data.slice(-loopClonesPerSide);\n        nextItems = data.slice(0, loopClonesPerSide);\n      }\n      return previousItems.concat(data, nextItems);\n    }\n  }, {\n    key: \"_getCustomDataLength\",\n    value: function _getCustomDataLength() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var data = props.data,\n        loopClonesPerSide = props.loopClonesPerSide;\n      var dataLength = data && data.length;\n      if (!dataLength) {\n        return 0;\n      }\n      return this._enableLoop() ? dataLength + 2 * loopClonesPerSide : dataLength;\n    }\n  }, {\n    key: \"_getCustomIndex\",\n    value: function _getCustomIndex(index) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var itemsLength = this._getCustomDataLength(props);\n      if (!itemsLength || typeof index === 'undefined') {\n        return 0;\n      }\n      return this._needsRTLAdaptations() ? itemsLength - index - 1 : index;\n    }\n  }, {\n    key: \"_getDataIndex\",\n    value: function _getDataIndex(index) {\n      var _this$props6 = this.props,\n        data = _this$props6.data,\n        loopClonesPerSide = _this$props6.loopClonesPerSide;\n      var dataLength = data && data.length;\n      if (!this._enableLoop() || !dataLength) {\n        return index;\n      }\n      if (index >= dataLength + loopClonesPerSide) {\n        return loopClonesPerSide > dataLength ? (index - loopClonesPerSide) % dataLength : index - dataLength - loopClonesPerSide;\n      } else if (index < loopClonesPerSide) {\n        if (loopClonesPerSide > dataLength) {\n          var baseDataIndexes = [];\n          var dataIndexes = [];\n          var dataMultiplier = Math.floor(loopClonesPerSide / dataLength);\n          var remainder = loopClonesPerSide % dataLength;\n          for (var i = 0; i < dataLength; i++) {\n            baseDataIndexes.push(i);\n          }\n          for (var j = 0; j < dataMultiplier; j++) {\n            dataIndexes.push.apply(dataIndexes, baseDataIndexes);\n          }\n          dataIndexes.unshift.apply(dataIndexes, _toConsumableArray(baseDataIndexes.slice(-remainder)));\n          return dataIndexes[index];\n        } else {\n          return index + dataLength - loopClonesPerSide;\n        }\n      } else {\n        return index - loopClonesPerSide;\n      }\n    }\n  }, {\n    key: \"_getPositionIndex\",\n    value: function _getPositionIndex(index) {\n      var _this$props7 = this.props,\n        loop = _this$props7.loop,\n        loopClonesPerSide = _this$props7.loopClonesPerSide;\n      return loop ? index + loopClonesPerSide : index;\n    }\n  }, {\n    key: \"_getSnapOffsets\",\n    value: function _getSnapOffsets() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var offset = this._getItemMainDimension();\n      return _toConsumableArray(Array(this._getCustomDataLength(props))).map(function (_, i) {\n        return i * offset;\n      });\n    }\n  }, {\n    key: \"_getFirstItem\",\n    value: function _getFirstItem(index) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var loopClonesPerSide = props.loopClonesPerSide;\n      var itemsLength = this._getCustomDataLength(props);\n      if (!itemsLength || index > itemsLength - 1 || index < 0) {\n        return 0;\n      }\n      return this._enableLoop() ? index + loopClonesPerSide : index;\n    }\n  }, {\n    key: \"_getWrappedRef\",\n    value: function _getWrappedRef() {\n      if (this._carouselRef && (this._needsScrollView() && this._carouselRef.scrollTo || !this._needsScrollView() && this._carouselRef.scrollToOffset)) {\n        return this._carouselRef;\n      }\n      return this._carouselRef && this._carouselRef.getNode && this._carouselRef.getNode();\n    }\n  }, {\n    key: \"_getScrollEnabled\",\n    value: function _getScrollEnabled() {\n      return this._scrollEnabled;\n    }\n  }, {\n    key: \"_setScrollEnabled\",\n    value: function _setScrollEnabled() {\n      var scrollEnabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var wrappedRef = this._getWrappedRef();\n      if (!wrappedRef || !wrappedRef.setNativeProps) {\n        return;\n      }\n      wrappedRef.setNativeProps({\n        scrollEnabled: scrollEnabled\n      });\n      this._scrollEnabled = scrollEnabled;\n    }\n  }, {\n    key: \"_getItemMainDimension\",\n    value: function _getItemMainDimension() {\n      return this.props.vertical ? this.props.itemHeight : this.props.itemWidth;\n    }\n  }, {\n    key: \"_getItemScrollOffset\",\n    value: function _getItemScrollOffset(index) {\n      return this._positions && this._positions[index] && this._positions[index].start;\n    }\n  }, {\n    key: \"_getItemLayout\",\n    value: function _getItemLayout(_, index) {\n      var itemMainDimension = this._getItemMainDimension();\n      return {\n        index: index,\n        length: itemMainDimension,\n        offset: itemMainDimension * index\n      };\n    }\n  }, {\n    key: \"_getCellRendererComponent\",\n    value: function _getCellRendererComponent(_ref) {\n      var children = _ref.children,\n        index = _ref.index,\n        style = _ref.style,\n        props = _objectWithoutProperties(_ref, _excluded);\n      var cellStyle = [style, !IS_ANDROID ? {\n        zIndex: this._getCustomDataLength() - index\n      } : {}];\n      return React.createElement(View, _extends({\n        style: cellStyle,\n        key: index\n      }, props), children);\n    }\n  }, {\n    key: \"_getKeyExtractor\",\n    value: function _getKeyExtractor(_, index) {\n      return this._needsScrollView() ? \"scrollview-item-\".concat(index) : \"flatlist-item-\".concat(index);\n    }\n  }, {\n    key: \"_getScrollOffset\",\n    value: function _getScrollOffset(event) {\n      var vertical = this.props.vertical;\n      return event && event.nativeEvent && event.nativeEvent.contentOffset && event.nativeEvent.contentOffset[vertical ? 'y' : 'x'] || 0;\n    }\n  }, {\n    key: \"_getContainerInnerMargin\",\n    value: function _getContainerInnerMargin() {\n      var opposite = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var activeSlideAlignment = this.props.activeSlideAlignment;\n      if (activeSlideAlignment === 'start' && !opposite || activeSlideAlignment === 'end' && opposite) {\n        return 0;\n      } else if (activeSlideAlignment === 'end' && !opposite || activeSlideAlignment === 'start' && opposite) {\n        return this.props.vertical ? this.props.sliderHeight - this.props.itemHeight : this.props.sliderWidth - this.props.itemWidth;\n      } else {\n        return this.props.vertical ? (this.props.sliderHeight - this.props.itemHeight) / 2 : (this.props.sliderWidth - this.props.itemWidth) / 2;\n      }\n    }\n  }, {\n    key: \"_getActiveSlideOffset\",\n    value: function _getActiveSlideOffset() {\n      var activeSlideOffset = this.props.activeSlideOffset;\n      var itemMainDimension = this._getItemMainDimension();\n      var minOffset = 10;\n      return itemMainDimension / 2 - activeSlideOffset >= minOffset ? activeSlideOffset : minOffset;\n    }\n  }, {\n    key: \"_getActiveItem\",\n    value: function _getActiveItem(offset) {\n      var itemMainDimension = this._getItemMainDimension();\n      var center = offset + itemMainDimension / 2;\n      var activeSlideOffset = this._getActiveSlideOffset();\n      var lastIndex = this._positions.length - 1;\n      var itemIndex;\n      if (offset <= 0) {\n        return 0;\n      }\n      if (this._positions[lastIndex] && offset >= this._positions[lastIndex].start) {\n        return lastIndex;\n      }\n      for (var i = 0; i < this._positions.length; i++) {\n        var _this$_positions$i = this._positions[i],\n          start = _this$_positions$i.start,\n          end = _this$_positions$i.end;\n        if (center + activeSlideOffset >= start && center - activeSlideOffset <= end) {\n          itemIndex = i;\n          break;\n        }\n      }\n      return itemIndex || 0;\n    }\n  }, {\n    key: \"_getSlideInterpolatedStyle\",\n    value: function _getSlideInterpolatedStyle(index, animatedValue) {\n      var _this$props8 = this.props,\n        layoutCardOffset = _this$props8.layoutCardOffset,\n        slideInterpolatedStyle = _this$props8.slideInterpolatedStyle;\n      if (slideInterpolatedStyle) {\n        return slideInterpolatedStyle(index, animatedValue, this.props);\n      } else if (this._shouldUseTinderLayout()) {\n        return tinderAnimatedStyles(index, animatedValue, this.props, layoutCardOffset);\n      } else if (this._shouldUseStackLayout()) {\n        return stackAnimatedStyles(index, animatedValue, this.props, layoutCardOffset);\n      } else if (this._shouldUseShiftLayout()) {\n        return shiftAnimatedStyles(index, animatedValue, this.props);\n      } else {\n        return defaultAnimatedStyles(index, animatedValue, this.props);\n      }\n    }\n  }, {\n    key: \"_initPositionsAndInterpolators\",\n    value: function _initPositionsAndInterpolators() {\n      var _this3 = this;\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var data = props.data,\n        scrollInterpolator = props.scrollInterpolator;\n      var itemMainDimension = this._getItemMainDimension();\n      if (!data || !data.length) {\n        return;\n      }\n      var interpolators = [];\n      this._positions = [];\n      this._getCustomData(props).forEach(function (_itemData, index) {\n        var _index = _this3._getCustomIndex(index, props);\n        var animatedValue;\n        _this3._positions[index] = {\n          start: index * itemMainDimension,\n          end: index * itemMainDimension + itemMainDimension\n        };\n        if (!_this3._shouldAnimateSlides(props) || !_this3._scrollPos) {\n          animatedValue = new Animated.Value(1);\n        } else {\n          var interpolator;\n          if (scrollInterpolator) {\n            interpolator = scrollInterpolator(_index, props);\n          } else if (_this3._shouldUseStackLayout()) {\n            interpolator = stackScrollInterpolator(_index, props);\n          } else if (_this3._shouldUseTinderLayout()) {\n            interpolator = tinderScrollInterpolator(_index, props);\n          }\n          if (!interpolator || !interpolator.inputRange || !interpolator.outputRange) {\n            interpolator = defaultScrollInterpolator(_index, props);\n          }\n          animatedValue = _this3._scrollPos.interpolate(_objectSpread(_objectSpread({}, interpolator), {}, {\n            extrapolate: 'clamp'\n          }));\n        }\n        interpolators.push(animatedValue);\n      });\n      this.setState({\n        interpolators: interpolators\n      });\n    }\n  }, {\n    key: \"_hackActiveSlideAnimation\",\n    value: function _hackActiveSlideAnimation(index) {\n      var _this4 = this;\n      var scrollValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var offset = this._getItemScrollOffset(index);\n      if (!this._mounted || !this._carouselRef || typeof offset === 'undefined') {\n        return;\n      }\n      var multiplier = this._currentScrollOffset === 0 ? 1 : -1;\n      var scrollDelta = scrollValue * multiplier;\n      this._scrollTo({\n        offset: offset + scrollDelta,\n        animated: false\n      });\n      clearTimeout(this._hackSlideAnimationTimeout);\n      this._hackSlideAnimationTimeout = setTimeout(function () {\n        _this4._scrollTo({\n          offset: offset,\n          animated: false\n        });\n      }, 1);\n    }\n  }, {\n    key: \"_repositionScroll\",\n    value: function _repositionScroll(index) {\n      var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var _this$props9 = this.props,\n        data = _this$props9.data,\n        loopClonesPerSide = _this$props9.loopClonesPerSide;\n      var dataLength = data && data.length;\n      if (typeof index === 'undefined' || !this._shouldRepositionScroll(index)) {\n        return;\n      }\n      var repositionTo = index;\n      if (index >= dataLength + loopClonesPerSide) {\n        repositionTo = index - dataLength;\n      } else if (index < loopClonesPerSide) {\n        repositionTo = index + dataLength;\n      }\n      this._snapToItem(repositionTo, animated, false);\n    }\n  }, {\n    key: \"_scrollTo\",\n    value: function _scrollTo(_ref2) {\n      var offset = _ref2.offset,\n        index = _ref2.index,\n        _ref2$animated = _ref2.animated,\n        animated = _ref2$animated === void 0 ? true : _ref2$animated;\n      var vertical = this.props.vertical;\n      var wrappedRef = this._getWrappedRef();\n      if (!this._mounted || !wrappedRef || typeof offset === 'undefined' && typeof index === 'undefined') {\n        return;\n      }\n      var scrollToOffset;\n      if (typeof index !== 'undefined') {\n        scrollToOffset = this._getItemScrollOffset(index);\n      } else {\n        scrollToOffset = offset;\n      }\n      if (typeof scrollToOffset === 'undefined') {\n        return;\n      }\n      var options = this._needsScrollView() ? {\n        x: vertical ? 0 : offset,\n        y: vertical ? offset : 0,\n        animated: animated\n      } : {\n        offset: offset,\n        animated: animated\n      };\n      if (this._needsScrollView()) {\n        wrappedRef.scrollTo(options);\n      } else {\n        wrappedRef.scrollToOffset(options);\n      }\n    }\n  }, {\n    key: \"_onTouchStart\",\n    value: function _onTouchStart(event) {\n      var onTouchStart = this.props.onTouchStart;\n      if (this._getScrollEnabled() !== false && this._autoplaying) {\n        this.pauseAutoPlay();\n      }\n      onTouchStart && onTouchStart(event);\n    }\n  }, {\n    key: \"_onTouchEnd\",\n    value: function _onTouchEnd(event) {\n      var onTouchEnd = this.props.onTouchEnd;\n      if (this._getScrollEnabled() !== false && this._autoplay && !this._autoplaying) {\n        this.startAutoplay();\n      }\n      onTouchEnd && onTouchEnd(event);\n    }\n  }, {\n    key: \"_onScroll\",\n    value: function _onScroll(event) {\n      var _this$props10 = this.props,\n        onScroll = _this$props10.onScroll,\n        onScrollIndexChanged = _this$props10.onScrollIndexChanged;\n      var scrollOffset = event ? this._getScrollOffset(event) : this._currentScrollOffset;\n      var nextActiveItem = this._getActiveItem(scrollOffset);\n      this._currentScrollOffset = scrollOffset;\n      if (nextActiveItem !== this._onScrollActiveItem) {\n        this._onScrollActiveItem = nextActiveItem;\n        onScrollIndexChanged && onScrollIndexChanged(this._getDataIndex(nextActiveItem));\n      }\n      if (typeof onScroll === 'function' && event) {\n        onScroll(event);\n      }\n    }\n  }, {\n    key: \"_onMomentumScrollEnd\",\n    value: function _onMomentumScrollEnd(event) {\n      var _this5 = this;\n      var _this$props11 = this.props,\n        autoplayDelay = _this$props11.autoplayDelay,\n        onMomentumScrollEnd = _this$props11.onMomentumScrollEnd,\n        onSnapToItem = _this$props11.onSnapToItem;\n      var scrollOffset = event ? this._getScrollOffset(event) : this._currentScrollOffset;\n      var nextActiveItem = this._getActiveItem(scrollOffset);\n      var hasSnapped = this._isMultiple(scrollOffset, this.props.vertical ? this.props.itemHeight : this.props.itemWidth);\n      if (nextActiveItem !== this._activeItem) {\n        this._activeItem = nextActiveItem;\n        onSnapToItem && onSnapToItem(this._getDataIndex(nextActiveItem));\n        if (hasSnapped) {\n          this._repositionScroll(nextActiveItem);\n        }\n      }\n      onMomentumScrollEnd && onMomentumScrollEnd(event);\n      if (IS_ANDROID && this._autoplay && !this._autoplaying) {\n        clearTimeout(this._enableAutoplayTimeout);\n        this._enableAutoplayTimeout = setTimeout(function () {\n          _this5.startAutoplay();\n        }, autoplayDelay);\n      }\n    }\n  }, {\n    key: \"_onLayout\",\n    value: function _onLayout(event) {\n      var onLayout = this.props.onLayout;\n      if (this._onLayoutInitDone) {\n        this._initPositionsAndInterpolators();\n        this._snapToItem(this._activeItem, false, false, true);\n      } else {\n        this._onLayoutInitDone = true;\n      }\n      onLayout && onLayout(event);\n    }\n  }, {\n    key: \"_snapToItem\",\n    value: function _snapToItem(index) {\n      var _this6 = this;\n      var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var fireCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var forceScrollTo = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var onSnapToItem = this.props.onSnapToItem;\n      var itemsLength = this._getCustomDataLength();\n      var wrappedRef = this._getWrappedRef();\n      if (!itemsLength || !wrappedRef) {\n        return;\n      }\n      if (!index || index < 0) {\n        index = 0;\n      } else if (itemsLength > 0 && index >= itemsLength) {\n        index = itemsLength - 1;\n      }\n      if (index === this._activeItem && !forceScrollTo) {\n        return;\n      }\n      var offset = this._getItemScrollOffset(index);\n      if (offset === undefined) {\n        return;\n      }\n      this._scrollTo({\n        offset: offset,\n        animated: animated\n      });\n      var requiresManualTrigger = !animated || IS_ANDROID;\n      if (requiresManualTrigger) {\n        this._activeItem = index;\n        if (fireCallback) {\n          onSnapToItem && onSnapToItem(this._getDataIndex(index));\n        }\n        if (IS_ANDROID && this._shouldRepositionScroll(index)) {\n          if (animated) {\n            this._androidRepositioningTimeout = setTimeout(function () {\n              _this6._repositionScroll(index, true);\n            }, 400);\n          } else {\n            this._repositionScroll(index);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"startAutoplay\",\n    value: function startAutoplay() {\n      var _this7 = this;\n      var _this$props12 = this.props,\n        autoplayInterval = _this$props12.autoplayInterval,\n        autoplayDelay = _this$props12.autoplayDelay;\n      this._autoplay = true;\n      if (this._autoplaying) {\n        return;\n      }\n      clearTimeout(this._autoplayTimeout);\n      this._autoplayTimeout = setTimeout(function () {\n        _this7._autoplaying = true;\n        _this7._autoplayInterval = setInterval(function () {\n          if (_this7._autoplaying) {\n            _this7.snapToNext();\n          }\n        }, autoplayInterval);\n      }, autoplayDelay);\n    }\n  }, {\n    key: \"pauseAutoPlay\",\n    value: function pauseAutoPlay() {\n      this._autoplaying = false;\n      clearTimeout(this._autoplayTimeout);\n      clearTimeout(this._enableAutoplayTimeout);\n      clearInterval(this._autoplayInterval);\n    }\n  }, {\n    key: \"stopAutoplay\",\n    value: function stopAutoplay() {\n      this._autoplay = false;\n      this.pauseAutoPlay();\n    }\n  }, {\n    key: \"snapToItem\",\n    value: function snapToItem(index) {\n      var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var fireCallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (!index || index < 0) {\n        index = 0;\n      }\n      var positionIndex = this._getPositionIndex(index);\n      if (positionIndex === this._activeItem) {\n        return;\n      }\n      this._snapToItem(positionIndex, animated, fireCallback);\n    }\n  }, {\n    key: \"snapToNext\",\n    value: function snapToNext() {\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var fireCallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var itemsLength = this._getCustomDataLength();\n      var newIndex = this._activeItem + 1;\n      if (newIndex > itemsLength - 1) {\n        newIndex = 0;\n      }\n      this._snapToItem(newIndex, animated, fireCallback);\n    }\n  }, {\n    key: \"snapToPrev\",\n    value: function snapToPrev() {\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var fireCallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var itemsLength = this._getCustomDataLength();\n      var newIndex = this._activeItem - 1;\n      if (newIndex < 0) {\n        newIndex = itemsLength - 1;\n      }\n      this._snapToItem(newIndex, animated, fireCallback);\n    }\n  }, {\n    key: \"triggerRenderingHack\",\n    value: function triggerRenderingHack() {\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this._hackActiveSlideAnimation(this._activeItem, offset);\n    }\n  }, {\n    key: \"_renderItem\",\n    value: function _renderItem(_ref3) {\n      var item = _ref3.item,\n        index = _ref3.index;\n      var interpolators = this.state.interpolators;\n      var _this$props13 = this.props,\n        keyExtractor = _this$props13.keyExtractor,\n        slideStyle = _this$props13.slideStyle;\n      var animatedValue = interpolators && interpolators[index];\n      if (typeof animatedValue === 'undefined') {\n        return null;\n      }\n      var animate = this._shouldAnimateSlides();\n      var Component = animate ? Animated.View : View;\n      var animatedStyle = animate ? this._getSlideInterpolatedStyle(index, animatedValue) : {};\n      var dataIndex = this._getDataIndex(index);\n      var mainDimension = this.props.vertical ? {\n        height: this.props.itemHeight\n      } : {\n        width: this.props.itemWidth\n      };\n      var specificProps = this._needsScrollView() ? {\n        key: keyExtractor ? keyExtractor(item, index) : this._getKeyExtractor(item, index)\n      } : {};\n      return React.createElement(Component, _extends({\n        style: [mainDimension, slideStyle, animatedStyle],\n        pointerEvents: \"box-none\"\n      }, specificProps), this.props.vertical ? this.props.renderItem({\n        item: item,\n        index: index,\n        dataIndex: dataIndex\n      }, {\n        scrollPosition: this._scrollPos,\n        carouselRef: this._carouselRef,\n        vertical: this.props.vertical,\n        sliderHeight: this.props.sliderHeight,\n        itemHeight: this.props.itemHeight\n      }) : this.props.renderItem({\n        item: item,\n        index: index,\n        dataIndex: dataIndex\n      }, {\n        scrollPosition: this._scrollPos,\n        carouselRef: this._carouselRef,\n        vertical: !!this.props.vertical,\n        sliderWidth: this.props.sliderWidth,\n        itemWidth: this.props.itemWidth\n      }));\n    }\n  }, {\n    key: \"_getComponentOverridableProps\",\n    value: function _getComponentOverridableProps() {\n      var hideCarousel = this.state.hideCarousel;\n      var loopClonesPerSide = this.props.loopClonesPerSide;\n      var visibleItems = Math.ceil(this.props.vertical ? this.props.sliderHeight / this.props.itemHeight : this.props.sliderWidth / this.props.itemWidth) + 1;\n      var initialNumPerSide = this._enableLoop() ? loopClonesPerSide : 2;\n      var initialNumToRender = visibleItems + initialNumPerSide * 2;\n      var maxToRenderPerBatch = initialNumToRender + initialNumPerSide * 2;\n      var windowSize = maxToRenderPerBatch;\n      var specificProps = !this._needsScrollView() ? {\n        initialNumToRender: initialNumToRender,\n        maxToRenderPerBatch: maxToRenderPerBatch,\n        windowSize: windowSize\n      } : {};\n      return _objectSpread(_objectSpread({}, specificProps), {}, {\n        automaticallyAdjustContentInsets: false,\n        decelerationRate: 'fast',\n        directionalLockEnabled: true,\n        disableScrollViewPanResponder: false,\n        inverted: this._needsRTLAdaptations(),\n        overScrollMode: 'never',\n        pinchGestureEnabled: false,\n        pointerEvents: hideCarousel ? 'none' : 'auto',\n        scrollsToTop: false,\n        showsHorizontalScrollIndicator: false,\n        showsVerticalScrollIndicator: false\n      });\n    }\n  }, {\n    key: \"_getComponentStaticProps\",\n    value: function _getComponentStaticProps() {\n      var _this8 = this;\n      var hideCarousel = this.state.hideCarousel;\n      var _this$props14 = this.props,\n        activeSlideAlignment = _this$props14.activeSlideAlignment,\n        CellRendererComponent = _this$props14.CellRendererComponent,\n        containerCustomStyle = _this$props14.containerCustomStyle,\n        contentContainerCustomStyle = _this$props14.contentContainerCustomStyle,\n        firstItem = _this$props14.firstItem,\n        getItemLayout = _this$props14.getItemLayout,\n        keyExtractor = _this$props14.keyExtractor,\n        style = _this$props14.style,\n        useExperimentalSnap = _this$props14.useExperimentalSnap;\n      var containerStyle = [containerCustomStyle || style || {}, hideCarousel ? {\n        opacity: 0\n      } : {}, this.props.vertical ? {\n        height: this.props.sliderHeight,\n        flexDirection: 'column'\n      } : {\n        width: this.props.sliderWidth,\n        flexDirection: this._needsRTLAdaptations() ? 'row-reverse' : 'row'\n      }];\n      var innerMarginStyle = this.props.vertical ? {\n        paddingTop: this._getContainerInnerMargin(),\n        paddingBottom: this._getContainerInnerMargin(true)\n      } : {\n        paddingLeft: this._getContainerInnerMargin(),\n        paddingRight: this._getContainerInnerMargin(true)\n      };\n      var contentContainerStyle = [!useExperimentalSnap ? innerMarginStyle : {}, contentContainerCustomStyle || {}];\n      var snapProps = useExperimentalSnap ? {\n        snapToAlignment: activeSlideAlignment,\n        snapToInterval: this._getItemMainDimension()\n      } : {\n        snapToOffsets: this._getSnapOffsets()\n      };\n      var specificProps = !this._needsScrollView() ? {\n        CellRendererComponent: CellRendererComponent || this._getCellRendererComponent,\n        getItemLayout: getItemLayout || this._getItemLayout,\n        initialScrollIndex: this._getFirstItem(firstItem),\n        keyExtractor: keyExtractor || this._getKeyExtractor,\n        numColumns: 1,\n        renderItem: this._renderItem\n      } : {};\n      return _objectSpread(_objectSpread(_objectSpread({}, specificProps), snapProps), {}, {\n        ref: function ref(c) {\n          _this8._carouselRef = c;\n        },\n        contentContainerStyle: contentContainerStyle,\n        data: this._getCustomData(),\n        horizontal: !this.props.vertical,\n        scrollEventThrottle: 1,\n        style: containerStyle,\n        onLayout: this._onLayout,\n        onMomentumScrollEnd: this._onMomentumScrollEnd,\n        onScroll: this._onScrollHandler,\n        onTouchStart: this._onTouchStart,\n        onTouchEnd: this._onTouchEnd\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n      var _this$props15 = this.props,\n        data = _this$props15.data,\n        renderItem = _this$props15.renderItem,\n        useScrollView = _this$props15.useScrollView;\n      if (!data || !renderItem) {\n        return null;\n      }\n      var props = _objectSpread(_objectSpread(_objectSpread({}, this._getComponentOverridableProps()), this.props), this._getComponentStaticProps());\n      var ScrollViewComponent = typeof useScrollView === 'function' ? useScrollView : Animated.ScrollView;\n      return this._needsScrollView() || !Animated.FlatList ? React.createElement(ScrollViewComponent, props, this._getCustomData().map(function (item, index) {\n        return _this9._renderItem({\n          item: item,\n          index: index\n        });\n      })) : React.createElement(Animated.FlatList, props);\n    }\n  }]);\n  return Carousel;\n}(React.Component);\n_defineProperty(Carousel, \"defaultProps\", {\n  activeSlideAlignment: 'center',\n  activeSlideOffset: 20,\n  apparitionDelay: 0,\n  autoplay: false,\n  autoplayDelay: 1000,\n  autoplayInterval: 3000,\n  callbackOffsetMargin: 5,\n  containerCustomStyle: {},\n  contentContainerCustomStyle: {},\n  enableSnap: true,\n  firstItem: 0,\n  hasParallaxImages: false,\n  inactiveSlideOpacity: 0.7,\n  inactiveSlideScale: 0.9,\n  inactiveSlideShift: 0,\n  layout: 'default',\n  loop: false,\n  loopClonesPerSide: 3,\n  scrollEnabled: true,\n  slideStyle: {},\n  shouldOptimizeUpdates: true,\n  useExperimentalSnap: false,\n  useScrollView: !Animated.FlatList\n});\nexport default Carousel;","map":{"version":3,"names":["React","Animated","I18nManager","Platform","View","shallowCompare","defaultScrollInterpolator","stackScrollInterpolator","tinderScrollInterpolator","defaultAnimatedStyles","shiftAnimatedStyles","stackAnimatedStyles","tinderAnimatedStyles","IS_ANDROID","OS","IS_RTL","isRTL","Carousel","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","_defineProperty","_assertThisInitialized","state","hideCarousel","apparitionDelay","interpolators","initialActiveItem","_getFirstItem","firstItem","_activeItem","_onScrollActiveItem","_previousFirstItem","_previousItemsLength","_mounted","_positions","_currentScrollOffset","_scrollEnabled","scrollEnabled","_getCellRendererComponent","bind","_getItemLayout","_getKeyExtractor","_onLayout","_onScroll","_onMomentumScrollEnd","_onTouchStart","_onTouchEnd","_renderItem","_setScrollHandler","_displayWarnings","_createClass","key","value","componentDidMount","_this2","_this$props","autoplay","_initPositionsAndInterpolators","_initTimeout","setTimeout","apparitionCallback","setState","startAutoplay","_needsScrollView","_firstItem","_snapToItem","_apparitionTimeout","shouldComponentUpdate","nextProps","nextState","shouldOptimizeUpdates","componentDidUpdate","prevProps","_this$props2","itemsLength","_getCustomDataLength","nextFirstItem","nextActiveItem","hasNewSize","vertical","itemHeight","sliderHeight","itemWidth","sliderWidth","_setScrollEnabled","length","_hackActiveSlideAnimation","onScroll","componentWillUnmount","stopAutoplay","clearTimeout","_hackSlideAnimationTimeout","_enableAutoplayTimeout","_autoplayTimeout","_snapNoMomentumTimeout","_androidRepositioningTimeout","get","_getDataIndex","scrollEventConfig","listener","useNativeDriver","_scrollPos","Value","argMapping","nativeEvent","contentOffset","y","x","Array","isArray","_argMapping","pop","_props$onScroll$_argM","_slicedToArray","argMap","push","apply","_toConsumableArray","_onScrollHandler","event","arguments","undefined","pluginName","removedProps","console","error","concat","forEach","removedProp","warn","useScrollView","FlatList","_shouldUseStackLayout","_shouldUseTinderLayout","_needsRTLAdaptations","_enableLoop","_this$props3","data","enableSnap","loop","_shouldAnimateSlides","inactiveSlideOpacity","inactiveSlideScale","scrollInterpolator","slideInterpolatedStyle","_shouldUseShiftLayout","_this$props4","inactiveSlideShift","layout","_shouldRepositionScroll","index","_this$props5","loopClonesPerSide","dataLength","_roundNumber","num","decimals","rounder","Math","pow","round","Number","EPSILON","_isMultiple","_getCustomData","previousItems","nextItems","_previousItems2","_nextItems2","dataMultiplier","floor","remainder","i","_previousItems","_nextItems","unshift","slice","_getCustomIndex","_this$props6","baseDataIndexes","dataIndexes","j","_getPositionIndex","_this$props7","_getSnapOffsets","offset","_getItemMainDimension","map","_","_getWrappedRef","_carouselRef","scrollTo","scrollToOffset","getNode","_getScrollEnabled","wrappedRef","setNativeProps","_getItemScrollOffset","start","itemMainDimension","_ref","children","style","_objectWithoutProperties","_excluded","cellStyle","zIndex","createElement","_extends","_getScrollOffset","_getContainerInnerMargin","opposite","activeSlideAlignment","_getActiveSlideOffset","activeSlideOffset","minOffset","_getActiveItem","center","lastIndex","itemIndex","_this$_positions$i","end","_getSlideInterpolatedStyle","animatedValue","_this$props8","layoutCardOffset","_this3","_itemData","_index","interpolator","inputRange","outputRange","interpolate","_objectSpread","extrapolate","_this4","scrollValue","multiplier","scrollDelta","_scrollTo","animated","_repositionScroll","_this$props9","repositionTo","_ref2","_ref2$animated","options","onTouchStart","_autoplaying","pauseAutoPlay","onTouchEnd","_autoplay","_this$props10","onScrollIndexChanged","scrollOffset","_this5","_this$props11","autoplayDelay","onMomentumScrollEnd","onSnapToItem","hasSnapped","onLayout","_onLayoutInitDone","_this6","fireCallback","forceScrollTo","requiresManualTrigger","_this7","_this$props12","autoplayInterval","_autoplayInterval","setInterval","snapToNext","clearInterval","snapToItem","positionIndex","newIndex","snapToPrev","triggerRenderingHack","_ref3","item","_this$props13","keyExtractor","slideStyle","animate","Component","animatedStyle","dataIndex","mainDimension","height","width","specificProps","pointerEvents","renderItem","scrollPosition","carouselRef","_getComponentOverridableProps","visibleItems","ceil","initialNumPerSide","initialNumToRender","maxToRenderPerBatch","windowSize","automaticallyAdjustContentInsets","decelerationRate","directionalLockEnabled","disableScrollViewPanResponder","inverted","overScrollMode","pinchGestureEnabled","scrollsToTop","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","_getComponentStaticProps","_this8","_this$props14","CellRendererComponent","containerCustomStyle","contentContainerCustomStyle","getItemLayout","useExperimentalSnap","containerStyle","opacity","flexDirection","innerMarginStyle","paddingTop","paddingBottom","paddingLeft","paddingRight","contentContainerStyle","snapProps","snapToAlignment","snapToInterval","snapToOffsets","initialScrollIndex","numColumns","ref","c","horizontal","scrollEventThrottle","render","_this9","_this$props15","ScrollViewComponent","ScrollView","callbackOffsetMargin","hasParallaxImages"],"sources":["C:\\Users\\HP\\Desktop\\Project\\UR\\Year3\\reactMobile\\node_modules\\react-native-snap-carousel\\lib\\module\\carousel\\Carousel.tsx"],"sourcesContent":["import React, { PropsWithChildren } from 'react';\nimport {\n    Animated,\n    FlatList,\n    I18nManager,\n    Platform,\n    ScrollView,\n    View,\n    StyleProp,\n    NativeSyntheticEvent,\n    NativeScrollEvent,\n    LayoutChangeEvent,\n    GestureResponderEvent,\n    ViewStyle\n} from 'react-native';\nimport shallowCompare from 'react-addons-shallow-compare';\nimport {\n    defaultScrollInterpolator,\n    stackScrollInterpolator,\n    tinderScrollInterpolator,\n    defaultAnimatedStyles,\n    shiftAnimatedStyles,\n    stackAnimatedStyles,\n    tinderAnimatedStyles\n} from '../utils/animations';\nimport type { CarouselProps, CarouselState } from './types';\n\n// Metro doesn't support dynamic imports - i.e. require() done in the component itself\n// But at the same time the following import will fail on Snack...\n// TODO: find a way to get React Native's version without having to assume the file path\n// import RN_PACKAGE from '../../../react-native/package.json';\n\nconst IS_ANDROID = Platform.OS === 'android';\n\n// React Native automatically handles RTL layouts; unfortunately, it's buggy with horizontal ScrollView\n// See https://github.com/facebook/react-native/issues/11960\n// NOTE: the following variable is not declared in the constructor\n// otherwise it is undefined at init, which messes with custom indexes\nconst IS_RTL = I18nManager.isRTL;\n\nexport class Carousel<TData> extends React.Component<\n  CarouselProps<TData>,\n  CarouselState\n> {\n  static defaultProps = {\n      activeSlideAlignment: 'center',\n      activeSlideOffset: 20,\n      apparitionDelay: 0,\n      autoplay: false,\n      autoplayDelay: 1000,\n      autoplayInterval: 3000,\n      callbackOffsetMargin: 5,\n      containerCustomStyle: {},\n      contentContainerCustomStyle: {},\n      enableSnap: true,\n      firstItem: 0,\n      hasParallaxImages: false,\n      inactiveSlideOpacity: 0.7,\n      inactiveSlideScale: 0.9,\n      inactiveSlideShift: 0,\n      layout: 'default',\n      loop: false,\n      loopClonesPerSide: 3,\n      scrollEnabled: true,\n      slideStyle: {},\n      shouldOptimizeUpdates: true,\n      useExperimentalSnap: false,\n      useScrollView: !Animated.FlatList\n  };\n\n  _activeItem: number;\n  _onScrollActiveItem: number;\n  _previousFirstItem: number;\n  _previousItemsLength: number;\n  _mounted: boolean;\n  _positions: { start: number; end: number }[];\n  _currentScrollOffset: number;\n  _scrollEnabled: boolean;\n\n  _initTimeout?: ReturnType<typeof setTimeout>;\n  _apparitionTimeout?: ReturnType<typeof setTimeout>;\n  _hackSlideAnimationTimeout?: ReturnType<typeof setTimeout>;\n  _enableAutoplayTimeout?: ReturnType<typeof setTimeout>;\n  _autoplayTimeout?: ReturnType<typeof setTimeout>;\n  _snapNoMomentumTimeout?: ReturnType<typeof setTimeout>;\n  _androidRepositioningTimeout?: ReturnType<typeof setTimeout>;\n  _autoplayInterval?: ReturnType<typeof setInterval>;\n\n  _scrollPos?: Animated.Value;\n\n  _onScrollHandler?: ReturnType<typeof Animated.event>;\n\n  _carouselRef: ScrollView | FlatList<TData> | null = null;\n\n  _autoplaying?: boolean;\n  _autoplay?: boolean;\n\n  _onLayoutInitDone?: boolean;\n\n  constructor (props: CarouselProps<TData>) {\n      super(props);\n\n      this.state = {\n          hideCarousel: !!props.apparitionDelay,\n          interpolators: []\n      };\n\n      // this._RNVersionCode = this._getRNVersionCode();\n\n      // The following values are not stored in the state because 'setState()' is asynchronous\n      // and this results in an absolutely crappy behavior on Android while swiping (see #156)\n      const initialActiveItem = this._getFirstItem(props.firstItem);\n      this._activeItem = initialActiveItem;\n      this._onScrollActiveItem = initialActiveItem;\n      this._previousFirstItem = initialActiveItem;\n      this._previousItemsLength = initialActiveItem;\n\n      this._mounted = false;\n      this._positions = [];\n      this._currentScrollOffset = 0; // Store ScrollView's scroll position\n      this._scrollEnabled = props.scrollEnabled !== false;\n\n      this._getCellRendererComponent = this._getCellRendererComponent.bind(this);\n      this._getItemLayout = this._getItemLayout.bind(this);\n      this._getKeyExtractor = this._getKeyExtractor.bind(this);\n      this._onLayout = this._onLayout.bind(this);\n      this._onScroll = this._onScroll.bind(this);\n      this._onMomentumScrollEnd = this._onMomentumScrollEnd.bind(this);\n      this._onTouchStart = this._onTouchStart.bind(this);\n      this._onTouchEnd = this._onTouchEnd.bind(this);\n      this._renderItem = this._renderItem.bind(this);\n\n      // WARNING: call this AFTER binding _onScroll\n      this._setScrollHandler(props);\n\n      // Display warnings\n      this._displayWarnings(props);\n  }\n\n  componentDidMount () {\n      const { apparitionDelay, autoplay, firstItem } = this.props;\n\n      this._mounted = true;\n      this._initPositionsAndInterpolators();\n\n      // Without 'requestAnimationFrame' or a `0` timeout, images will randomly not be rendered on Android...\n      this._initTimeout = setTimeout(() => {\n          if (!this._mounted) {\n              return;\n          }\n\n          const apparitionCallback = () => {\n              if (apparitionDelay) {\n                  this.setState({ hideCarousel: false });\n              }\n              if (autoplay) {\n                  this.startAutoplay();\n              }\n          };\n\n          // FlatList will use its own built-in prop `initialScrollIndex`\n          if (this._needsScrollView()) {\n              const _firstItem = this._getFirstItem(firstItem);\n              this._snapToItem(_firstItem, false, false, true);\n              // this._hackActiveSlideAnimation(_firstItem);\n          }\n\n          if (apparitionDelay) {\n              this._apparitionTimeout = setTimeout(() => {\n                  apparitionCallback();\n              }, apparitionDelay);\n          } else {\n              apparitionCallback();\n          }\n      }, 1);\n  }\n\n  shouldComponentUpdate (\n      nextProps: CarouselProps<TData>,\n      nextState: CarouselState\n  ): boolean {\n      if (this.props.shouldOptimizeUpdates === false) {\n          return true;\n      } else {\n          return shallowCompare(this, nextProps, nextState);\n      }\n  }\n\n  componentDidUpdate (prevProps: CarouselProps<TData>) {\n      const { interpolators } = this.state;\n      const {\n          firstItem,\n          scrollEnabled\n      } = this.props;\n      const itemsLength = this._getCustomDataLength(this.props);\n\n      if (!itemsLength) {\n          return;\n      }\n\n      const nextFirstItem = this._getFirstItem(firstItem, this.props);\n      let nextActiveItem =\n      typeof this._activeItem !== 'undefined' ?\n          this._activeItem :\n          nextFirstItem;\n\n      const hasNewSize = this.props.vertical !== prevProps.vertical ||\n       (\n           this.props.vertical && prevProps.vertical && (\n               prevProps.itemHeight !== this.props.itemHeight || prevProps.sliderHeight !== this.props.sliderHeight\n           )\n       ) || (\n          !this.props.vertical && !prevProps.vertical && (\n              prevProps.itemWidth !== this.props.itemWidth || prevProps.sliderWidth !== this.props.sliderWidth\n          )\n      );\n\n      // Prevent issues with dynamically removed items\n      if (nextActiveItem > itemsLength - 1) {\n          nextActiveItem = itemsLength - 1;\n      }\n\n      // Handle changing scrollEnabled independent of user -> carousel interaction\n      if (scrollEnabled !== prevProps.scrollEnabled) {\n          this._setScrollEnabled(scrollEnabled);\n      }\n\n      if (\n          interpolators.length !== itemsLength ||\n          hasNewSize\n      ) {\n          this._activeItem = nextActiveItem;\n          this._previousItemsLength = itemsLength;\n\n          this._initPositionsAndInterpolators(this.props);\n\n          // Handle scroll issue when dynamically removing items (see #133)\n          // This also fixes first item's active state on Android\n          // Because 'initialScrollIndex' apparently doesn't trigger scroll\n          if (this._previousItemsLength > itemsLength) {\n              this._hackActiveSlideAnimation(nextActiveItem);\n          }\n\n          if (hasNewSize) {\n              this._snapToItem(nextActiveItem, false, false, true);\n          }\n      } else if (\n          nextFirstItem !== this._previousFirstItem &&\n      nextFirstItem !== this._activeItem\n      ) {\n          this._activeItem = nextFirstItem;\n          this._previousFirstItem = nextFirstItem;\n          this._snapToItem(nextFirstItem, false, true, true);\n      }\n\n      if (this.props.onScroll !== prevProps.onScroll) {\n          this._setScrollHandler(this.props);\n      }\n  }\n\n  componentWillUnmount () {\n      this._mounted = false;\n      this.stopAutoplay();\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._initTimeout);\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._apparitionTimeout);\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._hackSlideAnimationTimeout);\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._enableAutoplayTimeout);\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._autoplayTimeout);\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._snapNoMomentumTimeout);\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._androidRepositioningTimeout);\n  }\n\n  get realIndex () {\n      return this._activeItem;\n  }\n\n  get currentIndex () {\n      return this._getDataIndex(this._activeItem);\n  }\n\n  get currentScrollPosition () {\n      return this._currentScrollOffset;\n  }\n\n  _setScrollHandler (props: CarouselProps<TData>) {\n      // Native driver for scroll events\n      const scrollEventConfig = {\n          listener: this._onScroll,\n          useNativeDriver: true\n      };\n      this._scrollPos = new Animated.Value(0);\n      const argMapping = props.vertical ?\n          [{ nativeEvent: { contentOffset: { y: this._scrollPos } } }] :\n          [{ nativeEvent: { contentOffset: { x: this._scrollPos } } }];\n\n      // @ts-expect-error Let's ignore for now that trick\n      if (props.onScroll && Array.isArray(props.onScroll._argMapping)) {\n      // Because of a react-native issue https://github.com/facebook/react-native/issues/13294\n          argMapping.pop();\n          // @ts-expect-error Let's ignore for now that trick\n          const [argMap] = props.onScroll._argMapping;\n          if (argMap && argMap.nativeEvent && argMap.nativeEvent.contentOffset) {\n              // Shares the same animated value passed in props\n              this._scrollPos =\n          argMap.nativeEvent.contentOffset.x ||\n          argMap.nativeEvent.contentOffset.y ||\n          this._scrollPos;\n          }\n          // @ts-expect-error Let's ignore for now that trick\n          argMapping.push(...props.onScroll._argMapping);\n      }\n      this._onScrollHandler = Animated.event<NativeScrollEvent>(\n          argMapping,\n          scrollEventConfig\n      );\n  }\n\n  // This will return a future-proof version code number compatible with semantic versioning\n  // Examples: 0.59.3 -> 5903 / 0.61.4 -> 6104 / 0.62.12 -> 6212 / 1.0.2 -> 10002\n  // _getRNVersionCode () {\n  //     const version = RN_PACKAGE && RN_PACKAGE.version;\n  //     if (!version) {\n  //         return null;\n  //     }\n  //     const versionSplit = version.split('.');\n  //     if (!versionSplit || !versionSplit.length) {\n  //         return null;\n  //     }\n  //     return versionSplit[0] * 10000 +\n  //         (typeof versionSplit[1] !== 'undefined' ? versionSplit[1] * 100 : 0) +\n  //         (typeof versionSplit[2] !== 'undefined' ? versionSplit[2] * 1 : 0);\n  // }\n\n  _displayWarnings (props: CarouselProps<TData> = this.props) {\n      const pluginName = 'react-native-snap-carousel';\n      const removedProps = [\n          'activeAnimationType',\n          'activeAnimationOptions',\n          'enableMomentum',\n          'lockScrollTimeoutDuration',\n          'lockScrollWhileSnapping',\n          'onBeforeSnapToItem',\n          'swipeThreshold'\n      ] as const;\n\n      // if (this._RNVersionCode && this._RNVersionCode < 5800) {\n      //     console.error(\n      //         `${pluginName}: Version 4+ of the plugin is based on React Native props that were introduced in version 0.58. ` +\n      //         'Please downgrade to version 3.x or update your version of React Native.'\n      //     );\n      // }\n      if (!props.vertical && (!props.sliderWidth || !props.itemWidth)) {\n          console.error(\n              `${pluginName}: You need to specify both 'sliderWidth' and 'itemWidth' for horizontal carousels`\n          );\n      }\n      if (props.vertical && (!props.sliderHeight || !props.itemHeight)) {\n          console.error(\n              `${pluginName}: You need to specify both 'sliderHeight' and 'itemHeight' for vertical carousels`\n          );\n      }\n\n      removedProps.forEach((removedProp) => {\n          if (removedProp in props) {\n              console.warn(\n                  `${pluginName}: Prop ${removedProp} has been removed in version 4 of the plugin`\n              );\n          }\n      });\n  }\n\n  _needsScrollView () {\n      const { useScrollView } = this.props;\n      // Android's cell renderer is buggy and has a stange overflow\n      // TODO: a workaround might be to pass the custom animated styles directly to it\n      return IS_ANDROID ?\n          useScrollView ||\n          !Animated.FlatList ||\n          this._shouldUseStackLayout() ||\n          this._shouldUseTinderLayout() :\n          useScrollView || !Animated.FlatList;\n  }\n\n  _needsRTLAdaptations () {\n      const { vertical } = this.props;\n      return IS_RTL && IS_ANDROID && !vertical;\n  }\n\n  _enableLoop () {\n      const { data, enableSnap, loop } = this.props;\n      return enableSnap && loop && data && data.length && data.length > 1;\n  }\n\n  _shouldAnimateSlides (props: CarouselProps<TData> = this.props) {\n      const {\n          inactiveSlideOpacity,\n          inactiveSlideScale,\n          scrollInterpolator,\n          slideInterpolatedStyle\n      } = props;\n      return (\n          inactiveSlideOpacity < 1 ||\n      inactiveSlideScale < 1 ||\n      !!scrollInterpolator ||\n      !!slideInterpolatedStyle ||\n      this._shouldUseShiftLayout() ||\n      this._shouldUseStackLayout() ||\n      this._shouldUseTinderLayout()\n      );\n  }\n\n  _shouldUseShiftLayout () {\n      const { inactiveSlideShift, layout } = this.props;\n      return layout === 'default' && inactiveSlideShift !== 0;\n  }\n\n  _shouldUseStackLayout () {\n      return this.props.layout === 'stack';\n  }\n\n  _shouldUseTinderLayout () {\n      return this.props.layout === 'tinder';\n  }\n\n  _shouldRepositionScroll (index: number) {\n      const { data, enableSnap, loopClonesPerSide } = this.props;\n      const dataLength = data && data.length;\n      if (\n          !enableSnap ||\n      !dataLength ||\n      !this._enableLoop() ||\n      (index >= loopClonesPerSide && index < dataLength + loopClonesPerSide)\n      ) {\n          return false;\n      }\n      return true;\n  }\n\n  _roundNumber (num: number, decimals = 1) {\n      // https://stackoverflow.com/a/41716722/\n      const rounder = Math.pow(10, decimals);\n      return Math.round((num + Number.EPSILON) * rounder) / rounder;\n  }\n\n  _isMultiple (x: number, y: number) {\n      // This prevents Javascript precision issues: https://stackoverflow.com/a/58440614/\n      // Required because Android viewport size can return pretty complicated decimals numbers\n      return Math.round(Math.round(x / y) / (1 / y)) === Math.round(x);\n  }\n\n  _getCustomData (props: CarouselProps<TData> = this.props) {\n      const { data, loopClonesPerSide } = props;\n      const dataLength = data && data.length;\n\n      if (!dataLength) {\n          return [];\n      }\n\n      if (!this._enableLoop()) {\n          return data;\n      }\n\n      let previousItems = [];\n      let nextItems = [];\n\n      if (loopClonesPerSide > dataLength) {\n          const dataMultiplier = Math.floor(loopClonesPerSide / dataLength);\n          const remainder = loopClonesPerSide % dataLength;\n\n          for (let i = 0; i < dataMultiplier; i++) {\n              previousItems.push(...data);\n              nextItems.push(...data);\n          }\n\n          previousItems.unshift(...data.slice(-remainder));\n          nextItems.push(...data.slice(0, remainder));\n      } else {\n          previousItems = data.slice(-loopClonesPerSide);\n          nextItems = data.slice(0, loopClonesPerSide);\n      }\n\n      return previousItems.concat(data, nextItems);\n  }\n\n  _getCustomDataLength (props: CarouselProps<TData> = this.props) {\n      const { data, loopClonesPerSide } = props;\n      const dataLength = data && data.length;\n\n      if (!dataLength) {\n          return 0;\n      }\n\n      return this._enableLoop() ? dataLength + 2 * loopClonesPerSide : dataLength;\n  }\n\n  _getCustomIndex (index: number, props: CarouselProps<TData> = this.props) {\n      const itemsLength = this._getCustomDataLength(props);\n\n      if (!itemsLength || typeof index === 'undefined') {\n          return 0;\n      }\n\n      return this._needsRTLAdaptations() ? itemsLength - index - 1 : index;\n  }\n\n  _getDataIndex (index: number) {\n      const { data, loopClonesPerSide } = this.props;\n      const dataLength = data && data.length;\n\n      if (!this._enableLoop() || !dataLength) {\n          return index;\n      }\n\n      if (index >= dataLength + loopClonesPerSide) {\n          return loopClonesPerSide > dataLength ?\n              (index - loopClonesPerSide) % dataLength :\n              index - dataLength - loopClonesPerSide;\n      } else if (index < loopClonesPerSide) {\n      // TODO: is there a simpler way of determining the interpolated index?\n          if (loopClonesPerSide > dataLength) {\n              const baseDataIndexes = [];\n              const dataIndexes = [];\n              const dataMultiplier = Math.floor(loopClonesPerSide / dataLength);\n              const remainder = loopClonesPerSide % dataLength;\n\n              for (let i = 0; i < dataLength; i++) {\n                  baseDataIndexes.push(i);\n              }\n\n              for (let j = 0; j < dataMultiplier; j++) {\n                  dataIndexes.push(...baseDataIndexes);\n              }\n\n              dataIndexes.unshift(...baseDataIndexes.slice(-remainder));\n              return dataIndexes[index];\n          } else {\n              return index + dataLength - loopClonesPerSide;\n          }\n      } else {\n          return index - loopClonesPerSide;\n      }\n  }\n\n  // Used with `snapToItem()` and 'PaginationDot'\n  _getPositionIndex (index: number) {\n      const { loop, loopClonesPerSide } = this.props;\n      return loop ? index + loopClonesPerSide : index;\n  }\n\n  _getSnapOffsets (props: CarouselProps<TData> = this.props) {\n      const offset = this._getItemMainDimension();\n      return [...Array(this._getCustomDataLength(props))].map((_, i) => {\n          return i * offset;\n      });\n  }\n\n  _getFirstItem (index: number, props: CarouselProps<TData> = this.props) {\n      const { loopClonesPerSide } = props;\n      const itemsLength = this._getCustomDataLength(props);\n\n      if (!itemsLength || index > itemsLength - 1 || index < 0) {\n          return 0;\n      }\n\n      return this._enableLoop() ? index + loopClonesPerSide : index;\n  }\n\n  _getWrappedRef () {\n      // Starting with RN 0.62, we should no longer call `getNode()` on the ref of an Animated component\n      if (\n          this._carouselRef &&\n      ((this._needsScrollView() &&\n        (this._carouselRef as ScrollView).scrollTo) ||\n        (!this._needsScrollView() &&\n          (this._carouselRef as FlatList).scrollToOffset))\n      ) {\n          return this._carouselRef;\n      }\n      // https://github.com/facebook/react-native/issues/10635\n      // https://stackoverflow.com/a/48786374/8412141\n      return (\n          this._carouselRef &&\n      // @ts-expect-error This is for before 0.62\n      this._carouselRef.getNode &&\n      // @ts-expect-error This is for before 0.62\n      this._carouselRef.getNode()\n      );\n  }\n\n  _getScrollEnabled () {\n      return this._scrollEnabled;\n  }\n\n  _setScrollEnabled (scrollEnabled = true) {\n      const wrappedRef = this._getWrappedRef();\n\n      if (!wrappedRef || !wrappedRef.setNativeProps) {\n          return;\n      }\n\n      // 'setNativeProps()' is used instead of 'setState()' because the latter\n      // really takes a toll on Android behavior when momentum is disabled\n      wrappedRef.setNativeProps({ scrollEnabled });\n      this._scrollEnabled = scrollEnabled;\n  }\n\n  _getItemMainDimension () {\n      return this.props.vertical ? this.props.itemHeight : this.props.itemWidth;\n  }\n\n  _getItemScrollOffset (index: number) {\n      return (\n          this._positions && this._positions[index] && this._positions[index].start\n      );\n  }\n\n  _getItemLayout (_: TData[], index: number) {\n      const itemMainDimension = this._getItemMainDimension();\n      return {\n          index,\n          length: itemMainDimension,\n          offset: itemMainDimension * index // + this._getContainerInnerMargin()\n      };\n  }\n\n  // This will allow us to have a proper zIndex even with a FlatList\n  // https://github.com/facebook/react-native/issues/18616#issuecomment-389444165\n  _getCellRendererComponent ({\n      children,\n      index,\n      style,\n      ...props\n  }: PropsWithChildren<{ index: number; style: StyleProp<ViewStyle> }>) {\n      const cellStyle = [\n          style,\n          !IS_ANDROID ? { zIndex: this._getCustomDataLength() - index } : {}\n      ];\n\n      return (\n          <View style={cellStyle} key={index} {...props}>\n              {children}\n          </View>\n      );\n  }\n\n  _getKeyExtractor (_: TData, index: number) {\n      return this._needsScrollView() ?\n          `scrollview-item-${index}` :\n          `flatlist-item-${index}`;\n  }\n\n  _getScrollOffset (event: NativeSyntheticEvent<NativeScrollEvent>) {\n      const { vertical } = this.props;\n      return (\n          (event &&\n        event.nativeEvent &&\n        event.nativeEvent.contentOffset &&\n        event.nativeEvent.contentOffset[vertical ? 'y' : 'x']) ||\n      0\n      );\n  }\n\n  _getContainerInnerMargin (opposite = false) {\n      const { activeSlideAlignment } = this.props;\n\n      if (\n          (activeSlideAlignment === 'start' && !opposite) ||\n      (activeSlideAlignment === 'end' && opposite)\n      ) {\n          return 0;\n      } else if (\n          (activeSlideAlignment === 'end' && !opposite) ||\n      (activeSlideAlignment === 'start' && opposite)\n      ) {\n          return this.props.vertical ?\n              this.props.sliderHeight - this.props.itemHeight :\n              this.props.sliderWidth - this.props.itemWidth;\n      } else {\n          return this.props.vertical ?\n              (this.props.sliderHeight - this.props.itemHeight) / 2 :\n              (this.props.sliderWidth - this.props.itemWidth) / 2;\n      }\n  }\n\n  _getActiveSlideOffset () {\n      const { activeSlideOffset } = this.props;\n      const itemMainDimension = this._getItemMainDimension();\n      const minOffset = 10;\n      // Make sure activeSlideOffset never prevents the active area from being at least 10 px wide\n      return itemMainDimension / 2 - activeSlideOffset >= minOffset ?\n          activeSlideOffset :\n          minOffset;\n  }\n\n  _getActiveItem (offset: number) {\n      const itemMainDimension = this._getItemMainDimension();\n      const center = offset + itemMainDimension / 2;\n      const activeSlideOffset = this._getActiveSlideOffset();\n      const lastIndex = this._positions.length - 1;\n      let itemIndex;\n\n      if (offset <= 0) {\n          return 0;\n      }\n\n      if (\n          this._positions[lastIndex] &&\n      offset >= this._positions[lastIndex].start\n      ) {\n          return lastIndex;\n      }\n\n      for (let i = 0; i < this._positions.length; i++) {\n          const { start, end } = this._positions[i];\n          if (\n              center + activeSlideOffset >= start &&\n        center - activeSlideOffset <= end\n          ) {\n              itemIndex = i;\n              break;\n          }\n      }\n\n      return itemIndex || 0;\n  }\n\n  _getSlideInterpolatedStyle (index: number, animatedValue: Animated.AnimatedInterpolation) {\n      const { layoutCardOffset, slideInterpolatedStyle } = this.props;\n\n      if (slideInterpolatedStyle) {\n          return slideInterpolatedStyle(index, animatedValue, this.props);\n      } else if (this._shouldUseTinderLayout()) {\n          return tinderAnimatedStyles(\n              index,\n              animatedValue,\n              this.props,\n              layoutCardOffset\n          );\n      } else if (this._shouldUseStackLayout()) {\n          return stackAnimatedStyles(\n              index,\n              animatedValue,\n              this.props,\n              layoutCardOffset\n          );\n      } else if (this._shouldUseShiftLayout()) {\n          return shiftAnimatedStyles(index, animatedValue, this.props);\n      } else {\n          return defaultAnimatedStyles(index, animatedValue, this.props);\n      }\n  }\n\n  _initPositionsAndInterpolators (props: CarouselProps<TData> = this.props) {\n      const { data, scrollInterpolator } = props;\n      const itemMainDimension = this._getItemMainDimension();\n\n      if (!data || !data.length) {\n          return;\n      }\n\n      const interpolators: Animated.AnimatedInterpolation[] = [];\n      this._positions = [];\n\n      this._getCustomData(props).forEach((_itemData, index) => {\n          const _index = this._getCustomIndex(index, props);\n          let animatedValue: Animated.AnimatedInterpolation;\n\n          this._positions[index] = {\n              start: index * itemMainDimension,\n              end: index * itemMainDimension + itemMainDimension\n          };\n\n          if (!this._shouldAnimateSlides(props) || !this._scrollPos) {\n              animatedValue = new Animated.Value(1);\n          } else {\n              let interpolator;\n\n              if (scrollInterpolator) {\n                  interpolator = scrollInterpolator(_index, props);\n              } else if (this._shouldUseStackLayout()) {\n                  interpolator = stackScrollInterpolator(_index, props);\n              } else if (this._shouldUseTinderLayout()) {\n                  interpolator = tinderScrollInterpolator(_index, props);\n              }\n\n              if (\n                  !interpolator ||\n          !interpolator.inputRange ||\n          !interpolator.outputRange\n              ) {\n                  interpolator = defaultScrollInterpolator(_index, props);\n              }\n\n              animatedValue = this._scrollPos.interpolate({\n                  ...interpolator,\n                  extrapolate: 'clamp'\n              });\n          }\n\n          interpolators.push(animatedValue);\n      });\n\n      this.setState({ interpolators });\n  }\n\n  _hackActiveSlideAnimation (index: number, scrollValue = 1) {\n      const offset = this._getItemScrollOffset(index);\n\n      if (!this._mounted || !this._carouselRef || typeof offset === 'undefined') {\n          return;\n      }\n\n      const multiplier = this._currentScrollOffset === 0 ? 1 : -1;\n      const scrollDelta = scrollValue * multiplier;\n\n      this._scrollTo({ offset: offset + scrollDelta, animated: false });\n\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._hackSlideAnimationTimeout);\n      this._hackSlideAnimationTimeout = setTimeout(() => {\n          this._scrollTo({ offset, animated: false });\n      }, 1); // works randomly when set to '0'\n  }\n\n  _repositionScroll (index: number, animated = false) {\n      const { data, loopClonesPerSide } = this.props;\n      const dataLength = data && data.length;\n\n      if (typeof index === 'undefined' || !this._shouldRepositionScroll(index)) {\n          return;\n      }\n\n      let repositionTo = index;\n\n      if (index >= dataLength + loopClonesPerSide) {\n          repositionTo = index - dataLength;\n      } else if (index < loopClonesPerSide) {\n          repositionTo = index + dataLength;\n      }\n\n      this._snapToItem(repositionTo, animated, false);\n  }\n\n  _scrollTo ({\n      offset,\n      index,\n      animated = true\n  }: {\n    offset: number;\n    index?: number;\n    animated: boolean;\n  }) {\n      const { vertical } = this.props;\n      const wrappedRef = this._getWrappedRef();\n      if (\n          !this._mounted ||\n      !wrappedRef ||\n      (typeof offset === 'undefined' && typeof index === 'undefined')\n      ) {\n          return;\n      }\n\n      let scrollToOffset;\n      if (typeof index !== 'undefined') {\n          scrollToOffset = this._getItemScrollOffset(index);\n      } else {\n          scrollToOffset = offset;\n      }\n\n      if (typeof scrollToOffset === 'undefined') {\n          return;\n      }\n\n      const options = this._needsScrollView() ?\n          {\n              x: vertical ? 0 : offset,\n              y: vertical ? offset : 0,\n              animated\n          } :\n          {\n              offset,\n              animated\n          };\n\n      if (this._needsScrollView()) {\n          wrappedRef.scrollTo(options);\n      } else {\n          wrappedRef.scrollToOffset(options);\n      }\n  }\n\n  _onTouchStart (event: GestureResponderEvent) {\n      const { onTouchStart } = this.props;\n\n      // `onTouchStart` is fired even when `scrollEnabled` is set to `false`\n      if (this._getScrollEnabled() !== false && this._autoplaying) {\n          this.pauseAutoPlay();\n      }\n\n      onTouchStart && onTouchStart(event);\n  }\n\n  _onTouchEnd (event: GestureResponderEvent) {\n      const { onTouchEnd } = this.props;\n\n      if (\n          this._getScrollEnabled() !== false &&\n      this._autoplay &&\n      !this._autoplaying\n      ) {\n      // This event is buggy on Android, so a fallback is provided in _onMomentumScrollEnd()\n          this.startAutoplay();\n      }\n\n      onTouchEnd && onTouchEnd(event);\n  }\n\n  _onScroll (event: NativeSyntheticEvent<NativeScrollEvent>) {\n      const { onScroll, onScrollIndexChanged } = this.props;\n      const scrollOffset = event ?\n          this._getScrollOffset(event) :\n          this._currentScrollOffset;\n      const nextActiveItem = this._getActiveItem(scrollOffset);\n\n      this._currentScrollOffset = scrollOffset;\n\n      if (nextActiveItem !== this._onScrollActiveItem) {\n          this._onScrollActiveItem = nextActiveItem;\n          onScrollIndexChanged &&\n        onScrollIndexChanged(this._getDataIndex(nextActiveItem));\n      }\n\n      if (typeof onScroll === 'function' && event) {\n          onScroll(event);\n      }\n  }\n\n  _onMomentumScrollEnd (event: NativeSyntheticEvent<NativeScrollEvent>) {\n      const { autoplayDelay, onMomentumScrollEnd, onSnapToItem } = this.props;\n      const scrollOffset = event ?\n          this._getScrollOffset(event) :\n          this._currentScrollOffset;\n      const nextActiveItem = this._getActiveItem(scrollOffset);\n      const hasSnapped = this._isMultiple(\n          scrollOffset,\n          this.props.vertical ? this.props.itemHeight : this.props.itemWidth\n      );\n\n      // WARNING: everything in this condition will probably need to be called on _snapToItem as well because:\n      // 1. `onMomentumScrollEnd` won't be called if the scroll isn't animated\n      // 2. `onMomentumScrollEnd` won't be called at all on Android when scrolling programmatically\n      if (nextActiveItem !== this._activeItem) {\n          this._activeItem = nextActiveItem;\n          onSnapToItem && onSnapToItem(this._getDataIndex(nextActiveItem));\n\n          if (hasSnapped) {\n              this._repositionScroll(nextActiveItem);\n          }\n      }\n\n      onMomentumScrollEnd && onMomentumScrollEnd(event);\n\n      // The touchEnd event is buggy on Android, so this will serve as a fallback whenever needed\n      // https://github.com/facebook/react-native/issues/9439\n      if (IS_ANDROID && this._autoplay && !this._autoplaying) {\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n          clearTimeout(this._enableAutoplayTimeout);\n          this._enableAutoplayTimeout = setTimeout(() => {\n              this.startAutoplay();\n          }, autoplayDelay);\n      }\n  }\n\n  _onLayout (event: LayoutChangeEvent) {\n      const { onLayout } = this.props;\n\n      // Prevent unneeded actions during the first 'onLayout' (triggered on init)\n      if (this._onLayoutInitDone) {\n          this._initPositionsAndInterpolators();\n          this._snapToItem(this._activeItem, false, false, true);\n      } else {\n          this._onLayoutInitDone = true;\n      }\n\n      onLayout && onLayout(event);\n  }\n\n  _snapToItem (\n      index: number,\n      animated = true,\n      fireCallback = true,\n      forceScrollTo = false\n  ) {\n      const { onSnapToItem } = this.props;\n      const itemsLength = this._getCustomDataLength();\n      const wrappedRef = this._getWrappedRef();\n\n      if (!itemsLength || !wrappedRef) {\n          return;\n      }\n\n      if (!index || index < 0) {\n          index = 0;\n      } else if (itemsLength > 0 && index >= itemsLength) {\n          index = itemsLength - 1;\n      }\n\n      if (index === this._activeItem && !forceScrollTo) {\n          return;\n      }\n\n      const offset = this._getItemScrollOffset(index);\n\n      if (offset === undefined) {\n          return;\n      }\n\n      this._scrollTo({ offset, animated });\n\n      // On both platforms, `onMomentumScrollEnd` won't be triggered if the scroll isn't animated\n      // so we need to trigger the callback manually\n      // On Android `onMomentumScrollEnd` won't be triggered when scrolling programmatically\n      // Therefore everything critical needs to be manually called here as well, even though the timing might be off\n      const requiresManualTrigger = !animated || IS_ANDROID;\n      if (requiresManualTrigger) {\n          this._activeItem = index;\n\n          if (fireCallback) {\n              onSnapToItem && onSnapToItem(this._getDataIndex(index));\n          }\n\n          // Repositioning on Android\n          if (IS_ANDROID && this._shouldRepositionScroll(index)) {\n              if (animated) {\n                  this._androidRepositioningTimeout = setTimeout(() => {\n                      // Without scroll animation, the behavior is completely buggy...\n                      this._repositionScroll(index, true);\n                  }, 400); // Approximate scroll duration on Android\n              } else {\n                  this._repositionScroll(index);\n              }\n          }\n      }\n  }\n\n  startAutoplay () {\n      const { autoplayInterval, autoplayDelay } = this.props;\n      this._autoplay = true;\n\n      if (this._autoplaying) {\n          return;\n      }\n\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._autoplayTimeout);\n      this._autoplayTimeout = setTimeout(() => {\n          this._autoplaying = true;\n          this._autoplayInterval = setInterval(() => {\n              if (this._autoplaying) {\n                  this.snapToNext();\n              }\n          }, autoplayInterval);\n      }, autoplayDelay);\n  }\n\n  pauseAutoPlay () {\n      this._autoplaying = false;\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._autoplayTimeout);\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearTimeout(this._enableAutoplayTimeout);\n      // @ts-expect-error setTimeout / clearTiemout is buggy :/\n      clearInterval(this._autoplayInterval);\n  }\n\n  stopAutoplay () {\n      this._autoplay = false;\n      this.pauseAutoPlay();\n  }\n\n  snapToItem (index: number, animated = true, fireCallback = true) {\n      if (!index || index < 0) {\n          index = 0;\n      }\n\n      const positionIndex = this._getPositionIndex(index);\n\n      if (positionIndex === this._activeItem) {\n          return;\n      }\n\n      this._snapToItem(positionIndex, animated, fireCallback);\n  }\n\n  snapToNext (animated = true, fireCallback = true) {\n      const itemsLength = this._getCustomDataLength();\n\n      let newIndex = this._activeItem + 1;\n      if (newIndex > itemsLength - 1) {\n          newIndex = 0;\n      }\n      this._snapToItem(newIndex, animated, fireCallback);\n  }\n\n  snapToPrev (animated = true, fireCallback = true) {\n      const itemsLength = this._getCustomDataLength();\n\n      let newIndex = this._activeItem - 1;\n      if (newIndex < 0) {\n          newIndex = itemsLength - 1;\n      }\n      this._snapToItem(newIndex, animated, fireCallback);\n  }\n\n  // https://github.com/facebook/react-native/issues/1831#issuecomment-231069668\n  triggerRenderingHack (offset = 1) {\n      this._hackActiveSlideAnimation(this._activeItem, offset);\n  }\n\n  _renderItem ({ item, index }: { item: TData; index: number }) {\n      const { interpolators } = this.state;\n      const {\n          keyExtractor,\n          slideStyle\n      } = this.props;\n      const animatedValue = interpolators && interpolators[index];\n\n      if (typeof animatedValue === 'undefined') {\n          return null;\n      }\n\n      const animate = this._shouldAnimateSlides();\n      const Component = animate ? Animated.View : View;\n      const animatedStyle = animate ?\n          this._getSlideInterpolatedStyle(index, animatedValue) :\n          {};\n      const dataIndex = this._getDataIndex(index);\n\n      const mainDimension = this.props.vertical ?\n          { height: this.props.itemHeight } :\n          { width: this.props.itemWidth };\n      const specificProps = this._needsScrollView() ?\n          {\n              key: keyExtractor ?\n                  keyExtractor(item, index) :\n                  this._getKeyExtractor(item, index)\n          } :\n          {};\n\n      return (\n          <Component\n            style={[mainDimension, slideStyle, animatedStyle]}\n            pointerEvents='box-none'\n            {...specificProps}\n          >\n              {this.props.vertical ? this.props.renderItem({ item, index, dataIndex }, {\n                  scrollPosition: this._scrollPos,\n                  carouselRef: this._carouselRef,\n                  vertical: this.props.vertical,\n                  sliderHeight: this.props.sliderHeight,\n                  itemHeight: this.props.itemHeight\n              }) : this.props.renderItem({ item, index, dataIndex }, {\n                  scrollPosition: this._scrollPos,\n                  carouselRef: this._carouselRef,\n                  vertical: !!this.props.vertical,\n                  sliderWidth: this.props.sliderWidth,\n                  itemWidth: this.props.itemWidth\n              })}\n          </Component>\n      );\n  }\n\n  _getComponentOverridableProps () {\n      const { hideCarousel } = this.state;\n      const { loopClonesPerSide } = this.props;\n      const visibleItems =\n      Math.ceil(\n          this.props.vertical ?\n              this.props.sliderHeight / this.props.itemHeight :\n              this.props.sliderWidth / this.props.itemWidth\n      ) + 1;\n      const initialNumPerSide = this._enableLoop() ? loopClonesPerSide : 2;\n      const initialNumToRender = visibleItems + initialNumPerSide * 2;\n      const maxToRenderPerBatch = initialNumToRender + initialNumPerSide * 2;\n      const windowSize = maxToRenderPerBatch;\n\n      const specificProps = !this._needsScrollView() ?\n          {\n              initialNumToRender,\n              maxToRenderPerBatch,\n              windowSize\n          // updateCellsBatchingPeriod\n          } :\n          {};\n\n      return {\n          ...specificProps,\n          automaticallyAdjustContentInsets: false,\n          decelerationRate: 'fast' as const,\n          directionalLockEnabled: true,\n          disableScrollViewPanResponder: false, // If set to `true`, touch events will be triggered too easily\n          inverted: this._needsRTLAdaptations(),\n          overScrollMode: 'never' as const,\n          pinchGestureEnabled: false,\n          pointerEvents: hideCarousel ? 'none' as const : 'auto' as const,\n          // removeClippedSubviews: !this._needsScrollView(),\n          // renderToHardwareTextureAndroid: true,\n          scrollsToTop: false,\n          showsHorizontalScrollIndicator: false,\n          showsVerticalScrollIndicator: false\n      };\n  }\n\n  _getComponentStaticProps () {\n      const { hideCarousel } = this.state;\n      const {\n          activeSlideAlignment,\n          CellRendererComponent,\n          containerCustomStyle,\n          contentContainerCustomStyle,\n          firstItem,\n          getItemLayout,\n          keyExtractor,\n          style,\n          useExperimentalSnap\n      } = this.props;\n\n      const containerStyle = [\n      // { overflow: 'hidden' },\n          containerCustomStyle || style || {},\n          hideCarousel ? { opacity: 0 } : {},\n          this.props.vertical ?\n              { height: this.props.sliderHeight, flexDirection: 'column' as const } : // LTR hack; see https://github.com/facebook/react-native/issues/11960\n          // and https://github.com/facebook/react-native/issues/13100#issuecomment-328986423\n              {\n                  width: this.props.sliderWidth,\n                  flexDirection: this._needsRTLAdaptations() ? 'row-reverse' as const : 'row' as const\n              }\n      ];\n\n      const innerMarginStyle = this.props.vertical ?\n          {\n              paddingTop: this._getContainerInnerMargin(),\n              paddingBottom: this._getContainerInnerMargin(true)\n          } :\n          {\n              paddingLeft: this._getContainerInnerMargin(),\n              paddingRight: this._getContainerInnerMargin(true)\n          };\n\n      const contentContainerStyle = [\n          !useExperimentalSnap ? innerMarginStyle : {},\n          contentContainerCustomStyle || {}\n      ];\n\n      // WARNING: `snapToAlignment` won't work as intended because of the following:\n      // https://github.com/facebook/react-native/blob/d0871d0a9a373e1d3ac35da46c85c0d0e793116d/React/Views/ScrollView/RCTScrollView.m#L751-L755\n      // - Snap points will be off\n      // - Slide animations will be off\n      // - Last items won't be set as active (no `onSnapToItem` callback)\n      // Recommended only with large slides and `activeSlideAlignment` set to `start` for the time being\n      const snapProps = useExperimentalSnap ?\n          {\n          // disableIntervalMomentum: true, // Slide ± one item at a time\n              snapToAlignment: activeSlideAlignment,\n              snapToInterval: this._getItemMainDimension()\n          } :\n          {\n              snapToOffsets: this._getSnapOffsets()\n          };\n\n      // Flatlist specifics\n      const specificProps = !this._needsScrollView() ?\n          {\n              CellRendererComponent:\n            CellRendererComponent || this._getCellRendererComponent,\n              getItemLayout: getItemLayout || this._getItemLayout,\n              initialScrollIndex: this._getFirstItem(firstItem),\n              keyExtractor: keyExtractor || this._getKeyExtractor,\n              numColumns: 1,\n              renderItem: this._renderItem\n          } :\n          {};\n\n      return {\n          ...specificProps,\n          ...snapProps,\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          ref: (c: any) => {\n              this._carouselRef = c as FlatList<TData> | ScrollView;\n          },\n          contentContainerStyle: contentContainerStyle,\n          data: this._getCustomData(),\n          horizontal: !this.props.vertical,\n          scrollEventThrottle: 1,\n          style: containerStyle,\n          onLayout: this._onLayout,\n          onMomentumScrollEnd: this._onMomentumScrollEnd,\n          onScroll: this._onScrollHandler,\n          onTouchStart: this._onTouchStart,\n          onTouchEnd: this._onTouchEnd\n      };\n  }\n\n  render () {\n      const { data, renderItem, useScrollView } = this.props;\n\n      if (!data || !renderItem) {\n          return null;\n      }\n\n      const props = {\n          ...this._getComponentOverridableProps(),\n          ...this.props,\n          ...this._getComponentStaticProps()\n      };\n\n      const ScrollViewComponent =\n      typeof useScrollView === 'function' ? useScrollView : Animated.ScrollView;\n\n      return this._needsScrollView() || !Animated.FlatList ? (\n          <ScrollViewComponent {...props}>\n              {this._getCustomData().map((item, index) => {\n                  return this._renderItem({ item, index });\n              })}\n          </ScrollViewComponent>\n      ) : (\n          // @ts-expect-error Seems complicated to make TS 100% happy, while sharing that many things between\n          // flatlist && scrollview implementation. I'll prob try to rewrite parts of the logic to overcome that.\n          <Animated.FlatList {...props} />\n      );\n  }\n}\n\nexport default Carousel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}